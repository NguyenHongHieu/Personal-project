(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1147:function(t,e,n){"use strict";n(163);var r=n(294),o=n.n(r),c=n(380),l=n.n(c),d=n(1215),m=n.n(d),h=n(19),f=n.n(h),v=n(15),_="Programmer, Knowledge Share, Programming, Document Management",w="Technology Articles Platform from Asia, filled with latest information on Programming Languages and Frameworks. Ruby on Rails / PHP / Swift / Unity / Java /.Net",C=Object(v.a)("/og-facebook-2.png"),y=["https://www.facebook.com/viblo.asia/"],O=function(t){return new Date(t).toISOString()},j=function(t){return m()(t,{length:110})},x=function(image){return"string"==typeof image?{hid:"og:image",property:"og:image",content:image}:o()(image)?[{hid:"og:image",property:"og:image",content:image.url},{hid:"og:image:width",property:"og:image:width",content:image.width},{hid:"og:image:height",property:"og:image:height",content:image.height}]:[]},k=function(t){return[{hid:"description",name:"description",content:t},{hid:"og:description",property:"og:description",content:t}]},$=function(t){var title=t.title,e=t.description,image=t.image,base=[{hid:"og:title",property:"og:title",content:title},{hid:"twitter:title",name:"twitter:title",content:title},{hid:"twitter:card",name:"twitter:card",content:"summary"}];return l()(base,k(e),x(image))},S=function(content){var t=content.match(/(https?:\/\/.*\.(?:png|jpg))/i);return f()(t)?C:t},A=(n(40),n(1216)),P=n.n(A),z=n(1145),T=n.n(z),R=n(18),E=function(t){var e=!(f()(t.organization)||P()(t.organization.data)),n=f()(t.user),r=e?T()(t.organization.data.name):"Viblo",o=e?Object(R.f)(t.organization.data.avatar):C,c=T()(t.preview.contents),l={"@type":"Organization",name:r,logo:{"@type":"ImageObject",url:o},sameAs:e?null:y};return{"@context":"https://schema.org","@type":"Article",image:S(t.contents),author:n?l:{"@type":"Person",name:T()(t.user.data.name),"@id":Object(v.a)(Object(v.j)(t.user.data)),url:Object(v.a)(Object(v.j)(t.user.data))},keywords:f()(t.tags)?_:T()(t.tags.data.map(function(t){return t.name}).join(", ")),headline:T()(j(t.title)),url:t.canonical_url,mainEntityOfPage:{"@type":"WebPage","@id":"".concat(R.c,"/newest")},publisher:l,datePublished:O(t.published_at),dateCreated:O(t.created_at),dateModified:O(t.updated_at),description:c,articleBody:c}},I=function(t){var e=f()(t.tags)?_:t.tags.data.map(function(t){return t.name}).join(", "),n=t.preview.teaser,image=t.preview.image,r=[{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:t.canonical_url},{hid:"og:site_name",property:"og:site_name",content:"Viblo"},{hid:"og:title",property:"og:title",content:t.title},{hid:"keywords",name:"keywords",content:e},{hid:"article:published_time",name:"article:published_time",content:t.published_at},{hid:"article:modified_time",name:"article:modified_time",content:t.updated_at},{hid:"article:author",name:"article:author",content:f()(t.user)?"Viblo":Object(v.a)(Object(v.j)(t.user.data))},{hid:"article:tag",name:"article:tag",content:e},{hid:"twitter:title",name:"twitter:title",content:t.title},{hid:"twitter:description",name:"twitter:description",content:n},{hid:"twitter:card",name:"twitter:card",content:"summary"}];return{__dangerouslyDisableSanitizers:["script"],title:"".concat(t.title," - Viblo"),link:[{hid:"canonical",rel:"canonical",href:t.canonical_url}],meta:l()(r,x(image),k(n)),script:[{type:"application/ld+json",innerHTML:JSON.stringify(E(t))}]}},D=(n(33),function(t,e){var n=T()(t.seo.description),r=[],o=[];return e.forEach(function(e){e.accepted?o.push({"@type":"Answer",text:T()(e.contents),dateCreated:O(e.created_at),upvoteCount:e.points,url:Object(v.a)(Object(v.g)(t)),author:{"@type":"Person",name:T()(e.user.data.name),url:Object(v.a)(Object(v.j)(e.user.data)),image:Object(R.f)(e.user.data.avatar)}}):r.push({"@type":"Answer",text:T()(e.contents),dateCreated:O(e.created_at),upvoteCount:e.points,url:Object(v.a)(Object(v.g)(t)),author:{"@type":"Person",name:T()(e.user.data.name),url:Object(v.a)(Object(v.j)(e.user.data)),image:Object(R.f)(e.user.data.avatar)}})}),{"@context":"https://schema.org","@type":"QAPage",mainEntity:{"@type":"Question",name:T()(t.title),text:n,answerCount:t.answers_count,upvoteCount:t.points,dateCreated:O(t.created_at),author:{"@type":"Person",name:T()(t.user.data.name),url:Object(v.a)(Object(v.j)(t.user.data)),image:Object(R.f)(t.user.data.avatar)},acceptedAnswer:o,suggestedAnswer:r}}}),N=function(t,e){var n=t.tags.data.map(function(t){return t.name}).join(", "),r=t.seo.description,image=t.seo.image,o=[{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:Object(v.a)(Object(v.g)(t))},{hid:"og:site_name",property:"og:site_name",content:"Viblo"},{hid:"og:title",property:"og:title",content:t.title},{hid:"keywords",name:"keywords",content:n},{hid:"article:published_time",name:"article:published_time",content:t.seo.published_time},{hid:"article:modified_time",name:"article:modified_time",content:t.seo.modified_time},{hid:"article:author",name:"article:author",content:Object(v.a)(Object(v.j)(t.user.data))},{hid:"article:tag",name:"article:tag",content:n},{hid:"twitter:title",name:"twitter:title",content:t.title},{hid:"twitter:description",name:"twitter:description",content:r},{hid:"twitter:card",name:"twitter:card",content:"summary"}];return{__dangerouslyDisableSanitizers:["script"],title:"".concat(t.title," - Viblo"),link:[{hid:"canonical",rel:"canonical",href:Object(v.a)(Object(v.g)(t))}],meta:l()(o,x(image),k(r)),script:[{type:"application/ld+json",innerHTML:JSON.stringify(D(t,e))}]}},V=function(t){var e=T()(t.seo.contents),n=C;return{"@context":"https://schema.org","@type":"Article",image:S(t.contents),author:T()(t.user.data.name),headline:T()(j(t.title)),url:R.c,mainEntityOfPage:{"@type":"WebPage","@id":"".concat(R.c,"/newest")},publisher:{"@type":"Organization",name:"Viblo",logo:{"@type":"ImageObject",url:n},sameAs:y},datePublished:O(t.published_at),dateCreated:O(t.created_at),dateModified:O(t.edited_at),description:e}},U=function(t){var e=t.seo.description,image=t.seo.image,n=[{hid:"description",name:"description",content:t.seo.description},{hid:"og:title",property:"og:title",content:t.title},{hid:"og:description",property:"og:description",content:t.seo.description},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:Object(v.a)(Object(v.f)(t))},{hid:"og:site_name",property:"og:site_name",content:"Viblo"},{hid:"article:published_time",name:"article:published_time",content:t.seo.published_at},{hid:"article:modified_time",name:"article:modified_time",content:t.seo.updated_at},{hid:"article:author",name:"article:author",content:t.user.data.url},{hid:"twitter:title",name:"twitter:title",content:t.title},{hid:"twitter:description",name:"twitter:description",content:t.seo.description},{hid:"twitter:card",name:"twitter:card",content:"summary"}];return{__dangerouslyDisableSanitizers:["script"],title:"".concat(t.title," - Viblo"),link:[{rel:"canonical",href:Object(v.a)(Object(v.h)(t))}],meta:l()(n,x(image),k(e)),script:[{type:"application/ld+json",innerHTML:JSON.stringify(V(t))}]}},B=function(video){var t=T()(video.preview.contents),e=f()(video.organization)?T()(video.organization.data.name):"Viblo",n=f()(video.organization)?Object(R.f)(video.organization.data.avatar):C;return{"@context":"https://schema.org","@type":"VideoObject",name:T()(video.title),description:t,thumbnailUrl:video.preview.image,keywords:f()(video.tags)?null:T()(video.tags.data.map(function(t){return t.name}).join(", ")),author:{"@type":"Person",name:T()(video.user.data.name),"@id":Object(v.a)(Object(v.j)(video.user.data)),url:Object(v.a)(Object(v.j)(video.user.data))},publisher:{"@type":"Organization",name:e,logo:{"@type":"ImageObject",url:n},sameAs:y},url:Object(v.a)(Object(v.f)(video)),mainEntityOfPage:{"@type":"WebPage","@id":"".concat(R.c,"/videos")},datePublished:O(video.published_at),uploadDate:O(video.created_at),interactionCount:video.view}},M=function(video){var t=f()(video.tags)?null:video.tags.data.map(function(t){return t.name}).join(", "),e=video.preview.teaser,image=video.preview.image,n=[{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:Object(v.a)(Object(v.f)(video))},{hid:"og:site_name",property:"og:site_name",content:"Viblo"},{hid:"og:title",property:"og:title",content:video.title},{hid:"keywords",name:"keywords",content:t},{hid:"article:published_time",name:"article:published_time",content:video.published_at},{hid:"article:modified_time",name:"article:modified_time",content:video.updated_at},{hid:"article:author",name:"article:author",content:Object(v.a)(Object(v.j)(video.user.data))},{hid:"article:tag",name:"article:tag",content:t},{hid:"twitter:title",name:"twitter:title",content:video.title},{hid:"twitter:description",name:"twitter:description",content:e},{hid:"twitter:card",name:"twitter:card",content:"summary"}];return{__dangerouslyDisableSanitizers:["script"],title:"".concat(video.title," - Viblo"),link:[{hid:"canonical",rel:"canonical",href:Object(v.a)(Object(v.f)(video))}],meta:l()(n,x(image),k(e)),script:[{type:"application/ld+json",innerHTML:JSON.stringify(B(video))}]}},F=(n(88),n(4)),L=n(384),H=n.n(L),Q={"questions-newest":"Newest Questions","questions-unsolved":"Unsolved Questions","questions-followings":"Following's Questions","questions-clips":"My Question Clips","questions-ask":"Ask Question"},K=Object(F.a)({},{"clip-posts":"My Post Clips","clip-series":"My Series Clips",newest:"Newest Posts",series:"Post Series",subscriptions:"Followings","editors-choice":"Editor's Choice",trending:"Trending Posts",translation:"Translation Posts",announcements:"Announcements",videos:"Videos"},Q,{discussion:"Discussions"});function Y(t){var e=t.split("-");return"newest"===e[1]?"/questions":"/questions/".concat(e[1])}var W=function(t){var e=H()(Q,t)?Y(t):Object(v.d)(t);return{"@context":"http://schema.org","@type":"WebPage",name:K[t],url:Object(v.a)(e),description:w,publisher:{"@type":"Organization",name:"Viblo",url:R.c,logo:{"@type":"ImageObject",url:C},sameAs:y}}},J=function(t){var title="homepage"===t?"Viblo | Free service for technical knowledge sharing":"".concat(K[t]," - ").concat("Viblo"),image=C,e=H()(Q,t)?Y(t):Object(v.d)(t),n=[{hid:"description",name:"description",content:w},{hid:"keywords",name:"keywords",content:_},{property:"og:title",content:title},{property:"og:description",content:w},{property:"og:url",content:Object(v.a)(e)},{property:"og:site_name",content:"Viblo"},{property:"og:image",content:image},{hid:"twitter:title",name:"twitter:title",content:title},{hid:"twitter:description",name:"twitter:description",content:w},{hid:"twitter:card",name:"twitter:card",content:"summary"}];return{title:title,__dangerouslyDisableSanitizers:["script"],link:[{hid:"canonical",rel:"canonical",href:Object(v.a)(Object(v.d)(t))}],meta:l()(n,x(image),k(w)),script:[{type:"application/ld+json",innerHTML:JSON.stringify(W(t))}]}};n.d(e,"e",function(){return $}),n.d(e,"b",function(){return I}),n.d(e,"c",function(){return N}),n.d(e,"d",function(){return U}),n.d(e,"f",function(){return M}),n.d(e,"a",function(){return J})},1148:function(t,e,n){"use strict";n(33),n(161),n(10);var r=n(3),o=n(67),c=n(18),l=n(159),d=n(4),m=n(1253),h=n(160),f=n(1151),v=n(8),_={components:{Avatar:l.a,Subscribe:h.a,Stats:f.a,AvatarsList:m.a},props:{user:{type:Object,required:!0},profilePage:{type:String,required:!0},followers:{type:Array,default:function(){return[]}}},computed:Object(d.a)({},Object(v.c)("auth",["isUser"]),{followersPage:function(){return Object(c.m)(this.user,"followers")}}),methods:Object(d.a)({},Object(v.b)("entities/users",["follow"]),{handleFollow:function(t){return this.follow({username:this.user.username,value:t})}})},w=n(0),C=Object(w.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex flex-row justify-content-around"},[n("Avatar",{staticClass:"mr-05 col-3",attrs:{username:t.user.username,image:t.user.avatar,size:"xl"}}),t._v(" "),n("div",{staticClass:"col-9"},[n("nuxt-link",{class:{"is-banned":t.user.banned_at},attrs:{to:t.profilePage}},[t._v("\n                "+t._s(t.user.name)+"\n            ")]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("@"+t._s(t.user.username))]),t._v(" "),n("div",[n("Stats",{staticClass:"mt-05",attrs:{stats:[{name:"Reputations: "+t.user.reputation,icon:"fa fa-star",value:t.user.reputation},{name:"Posts: "+t.user.posts_count,icon:"fa fa-pencil",value:t.user.posts_count},{name:"Followers: "+t.user.followers_count,icon:"fa fa-user-plus",value:t.user.followers_count},{name:"Total post views: "+t.user.total_post_views,icon:"fa fa-eye",value:t.user.total_post_views}]}})],1)],1)],1),t._v(" "),t.isUser(t.user.id)?t._e():n("div",{staticClass:"d-flex justify-content-between align-items-center border-top mt-1 pt-05"},[t.followers?n("AvatarsList",{attrs:{users:t.followers,total:t.user.followers_count},on:{"click-more-button":function(e){return t.$router.push(t.followersPage)}}}):t._e(),t._v(" "),n("subscribe",{ref:"subscribe",attrs:{send:t.handleFollow,subscribable:{type:"User",id:t.user.id}}},[n("button",{staticClass:"btn btn-follow",class:{following:t.user.following},attrs:{disabled:t.user.banned_at},on:{click:function(e){return t.$refs.subscribe.handle(!t.user.following)}}},[t._v("\n                "+t._s(t.user.following?"Following":"Follow")+"\n            ")])])],1)])},[],!1,null,null,null).exports,y={components:{Avatar:l.a,Popover:C},props:{user:{type:Object,required:!0},showAvatar:{type:Boolean,default:!0},showUsername:{type:Boolean,default:!0}},data:function(){return{isMobile:!1,followers:[]}},computed:{profilePage:function(){return Object(c.m)(this.user)},usercard:function(){return this.$store.getters["hovercard/get"](this.user.username)}},mounted:function(){window.screen.width<700&&(this.isMobile=!0)},methods:{getFollowedUsers:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.getUserFollowers)(e);case 2:n=t.sent,this.followers=n.data;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),fetchData:function(){return Promise.all([this.$store.dispatch("hovercard/getUser",this.user.username),this.getFollowedUsers(this.user.username)]).catch(function(){})}}},O=Object(w.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",{staticClass:"user--inline d-inline-flex flex-shrink-0"},[t.showAvatar?n("Avatar",{staticClass:"mr-05",attrs:{username:t.user.username,image:t.user.avatar,size:"xs"}}):t._e(),t._v(" "),t.isMobile?n("nuxt-link",{staticClass:"mr-05",class:{"is-banned":t.user.banned_at},attrs:{to:t.profilePage}},[t._v("\n        "+t._s(t.user.name)+"\n    ")]):n("el-popover",{attrs:{"open-delay":500,width:350,placement:"bottom-start",trigger:"hover"},on:{show:t.fetchData}},[n("nuxt-link",{staticClass:"mr-05",class:{"is-banned":t.user.banned_at},attrs:{slot:"reference",to:t.profilePage},slot:"reference"},[t._v("\n            "+t._s(t.user.name)+"\n        ")]),t._v(" "),n("div",{staticClass:"popover-usercard"},[t.usercard?n("Popover",{attrs:{user:t.usercard,"profile-page":t.profilePage,followers:t.followers}}):n("div",{attrs:{align:"center"}},[n("i",{staticClass:"el-icon-loading",attrs:{"aria-hidden":"true"}})])],1)],1),t._v(" "),t.showUsername?n("span",{staticClass:"text-muted mr-05"},[t._v("\n        @"+t._s(t.user.username)+"\n    ")]):t._e()],1):t._e()},[],!1,null,null,null);e.a=O.exports},1149:function(t,e,n){"use strict";n(41);var r={functional:!0,props:{score:Number,rated:Number},render:function(t,e){var n=e.props,data=e.data;return t("div",{class:["points",data.class,data.staticClass],attrs:{title:"Score"},directives:[{name:"tooltip",value:!0}]},[t("div",{class:"carets"},[t("i",{class:["fa fa-caret-up",{voted:n.rated>0}],attrs:{"aria-hidden":"true"}}),t("i",{class:["fa fa-caret-down",{voted:n.rated<0}],attrs:{"aria-hidden":"true"}})]),t("span",{class:"text-muted"},[n.score])])}},o=(n(1277),n(0)),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.a=component.exports},1150:function(t,e,n){"use strict";e.a={data:function(){return{state:{show:!1}}},methods:{open:function(){this.state.show=!0},close:function(){this.state.show=!1}}}},1151:function(t,e,n){"use strict";var r={props:{stats:{type:Array,required:!0}}},o=(n(1274),n(0)),component=Object(o.a)(r,function(t,e){var n=e._c;return n("div",{class:["stats",e.data.staticClass]},e._l(e.props.stats,function(t,r){return n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r,staticClass:"stats-item text-muted",attrs:{title:t.name}},[n("i",{staticClass:"stats-item__icon",class:t.icon,attrs:{"aria-hidden":"true"}}),e._v("\n        "+e._s(e._f("formatNumber")(t.value))+"\n    ")])}),0)},[],!0,null,null,null);e.a=component.exports},1152:function(t,e,n){"use strict";var r=n(18),o={mixins:[n(398).a],props:{slug:{type:String,required:!0}},computed:{companyPage:function(){return Object(r.g)({slug:this.slug})}}},c=n(0),component=Object(c.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("nuxt-link",{staticClass:"d-flex",attrs:{to:this.companyPage}},[e("Avatar",this._b({attrs:{image:this.image||this.imagePolyfill,rectangle:"",organization:""}},"Avatar",this.$props,!1))],1)},[],!1,null,null,null);e.a=component.exports},1154:function(t,e,n){"use strict";var r={components:{TagsList:n(1213).a},props:{tags:Array,size:{type:String,default:"mini"},promoted:Boolean,trending:Boolean,system:Object}},o=n(0),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tags-list",{attrs:{tags:t.tags,size:t.size}},[n("template",{slot:"prepend"},[t.promoted?n("v-tag",{attrs:{size:t.size,url:"/editors-choice",primary:""}},[t._v("\n            Editors' Choice\n        ")]):t._e(),t._v(" "),t.trending?n("v-tag",{attrs:{size:t.size,url:"/trending",primary:""}},[t._v("\n            Trending\n        ")]):t._e(),t._v(" "),t.system?n("v-tag",{attrs:{url:"/"+t.system.slug,name:t.system.name,size:t.size,primary:""}}):t._e()],1)],2)},[],!1,null,null,null);e.a=component.exports},1155:function(t,e,n){},1156:function(t,e,n){},1157:function(t,e,n){},1158:function(t,e,n){},1160:function(t,e,n){},1161:function(t,e,n){},1162:function(t,e,n){},1163:function(t,e,n){},1164:function(t,e,n){},1165:function(t,e,n){t.exports={icon:"icon_2lDEA"}},1166:function(t,e,n){t.exports={name:"name_SKcxF"}},1167:function(t,e,n){},1168:function(t,e,n){},1170:function(t,e,n){"use strict";n(10);var r=n(3);function o(){return(o=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.state.processing=!0,t.prev=1,t.next=4,e;case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),t.t0;case 10:return t.prev=10,this.state.processing=!1,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[1,7,10,13]])}))).apply(this,arguments)}var c={data:function(){return{state:{processing:!1}}},methods:{processRequest:function(t){var e=this,n=function(t){return o.apply(this,arguments)}.bind(this);if("function"==typeof t)return function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var l=t.call.apply(t,[e].concat(o));return n(l)};if("function"!=typeof t.then)throw new Error("Invalid request argument");return n(t)}}};e.a=c},1171:function(t,e,n){"use strict";n(41);var r=n(1253),o={components:{UsersPopup:n(1267).a,AvatarsList:r.a},props:{users:{type:Array,default:function(){return[]}},limit:{type:Number,default:5},showMore:{type:Boolean,default:!0},size:{type:String,default:"xs"}},computed:{more:function(){return this.showMore&&this.users.length>this.limit}}},c=n(0),component=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AvatarsList",{attrs:{size:t.size,users:t.users,limit:t.limit,"show-more":t.showMore},on:{"click-more-button":function(){return t.$refs.popup.open()}}}),t._v(" "),t.more?n("UsersPopup",{ref:"popup",attrs:{users:t.users,"append-to-body":""}}):t._e()],1)},[],!1,null,null,null);e.a=component.exports},1172:function(t,e,n){"use strict";var r=n(4),o=n(5),c=(n(40),n(8)),l=n(18),d=n(26),m=n(391),h=(n(88),n(7)),f=n.n(h),v=n(176),_=n.n(v),w=n(1331),C=n.n(w),y=n(1332),O=n.n(y),j=n(404),x=n(1244),k={components:{MarkdownDialog:n(1247).a},props:{className:{type:String,default:""},btnClass:{type:String}},methods:{show:function(){this.$refs.markdownDialog.show()}}},$=n(0),S=Object($.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-help"},[n("el-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"py-05",class:t.btnClass,attrs:{type:"text",icon:"fa fa-question-circle text-muted",title:"Markdown Help",tabindex:"-1"},on:{click:function(e){return e.preventDefault(),t.show(e)}}}),t._v(" "),n("markdown-dialog",{ref:"markdownDialog"})],1)},[],!1,null,null,null).exports,A={components:{EmojiSuggestion:n(1248).a},props:{btnClass:{type:String}},data:function(){return{show:!1,emojiSuggestionStyle:{button:"0px"}}},methods:{open:function(){this.show=!0},close:function(){this.show=!1}}},P=Object($.a)(A,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-help"},[n("el-popover",{attrs:{placement:"top","visible-arrow":"false",trigger:"click"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("el-button",{staticClass:"py-05",class:t.btnClass,attrs:{slot:"reference",type:"text",icon:"fa fa-smile-o text-muted",title:"Emoji Suggestion",tabindex:"-1"},slot:"reference"}),t._v(" "),t.show?n("emoji-suggestion",{attrs:{"emoji-suggestion-style":t.emojiSuggestionStyle}}):t._e()],1)],1)},[],!1,null,null,null).exports,z={components:{Suggestions:x.a,MarkdownHelp:S,EmojiPopUp:P},props:{value:String},data:function(){return{suggestionBoxPosition:{top:0,left:0}}},computed:{$_listeners:function(){var t=this;return Object(r.a)({},this.$listeners,{input:function(e){return t.$emit("input",e.target.value)},change:function(e){return t.$emit("change",e.target.value)},keydown:this.onKeydown})},typingText:function(){var t=f()(this.$refs,"textarea.selectionStart",0),e=this.value.slice(0,t).split("\n");return _()(e)}},mounted:function(){C()(this.$refs.textarea);var t=n(1201).createDropzone;this.$_dropzone=t(this.$el,{previewsContainer:!1,clickable:this.$refs.uploadClick}),this.$_dropzone.on("success",this.onUploadImage)},beforeDestroy:function(){C.a.destroy(this.$refs.textarea),this.$_dropzone&&this.$_dropzone.destroy()},provide:function(){return{actions:{insertText:this.insertText}}},methods:{focus:function(){this.$refs.textarea.focus()},reset:function(){var t=this;this.$emit("input",""),this.$nextTick(function(){C.a.update(t.$refs.textarea)})},onKeydown:function(t){this.$refs.suggestions.handleKeyEvents(t),this.$emit("keydown",t)},insertText:function(text){var t=this.$refs.textarea.selectionStart,e=this.$refs.textarea.selectionEnd;this.alterText(text,t,e)},alterText:function(t,e,n){var r=this.value.slice(0,e),o=n>e?this.value.slice(n):this.value.slice(e),c="".concat(r).concat(t).concat(o),l=c.length-o.length,textarea=this.$refs.textarea;textarea.value=c,textarea.setSelectionRange(l,l),this.$emit("input",c)},applySuggestion:function(t){var e=t.type,n=t.pending,r=t.suggestion;f()({emoji:this.completeEmoji,mention:this.completeMention},e,function(){})(n,r)},completeEmoji:function(t,e){this.completeText(t,":".concat(e,":"))},completeMention:function(t,e){this.completeText(t,"@".concat(e))},completeText:function(t,e){var n=this.$refs.textarea.selectionStart,r=n>=this.value.length||!/\s/.test(this.value[n])?"".concat(e," "):e;this.alterText(r,n-t.length-1,n)},adjustSuggestionBoxPosition:function(t){var e=t?-1*t.length:0,n=this.getCursorCoords(e);this.suggestionBoxPosition={top:n.top,left:n.left}},getCursorCoords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,textarea=this.$refs.textarea,e=O()(textarea,textarea.selectionStart+t),n=Object(j.a)(textarea,this.$el),r=getComputedStyle(textarea).lineHeight;return{top:n.top+e.top+parseFloat(r),left:n.left+e.left}},onUploadImage:function(t,e){var n=e.data;this.insertText("![".concat(n.name,"](").concat(n.path,")"))}}},T=(n(1337),Object($.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-lite"},[n("textarea",t._g(t._b({ref:"textarea",domProps:{value:t.value}},"textarea",t.$attrs,!1),t.$_listeners)),t._v(" "),n("div",{staticClass:"editor-lite__extras"},[n("markdown-help",{attrs:{"btn-class":"editor-lite__extra-button"}}),t._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],ref:"uploadClick",staticClass:"editor-lite__extra-button icon-btn",attrs:{title:"Drag image or click to attach"}},[n("i",{staticClass:"fa fa-image",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("emoji-pop-up",{attrs:{"btn-class":"editor-lite__extra-button"}})],1),t._v(" "),n("suggestions",{ref:"suggestions",style:{top:t.suggestionBoxPosition.top+"px",left:t.suggestionBoxPosition.left+"px"},attrs:{"typing-text":t.typingText},on:{select:t.applySuggestion,"pending-complete":t.adjustSuggestionBoxPosition}})],1)},[],!1,null,null,null).exports),R={components:{Avatar:m.a,LiteEditor:T},props:{name:{type:String,default:"contents"},value:{type:String,default:""},className:[Array,Object,String],placeholder:{type:String,default:"Write a response..."},submitText:{type:String,default:"Save"},cancelText:{type:String,default:"Discard"},showCancel:{type:Boolean,default:!0},showAvatar:{type:Boolean,default:!0}},data:function(){var t=Date.now();return{form:Object(o.a)({},this.name,this.value),tabs:{ids:{write:"write-".concat(t),preview:"preview-".concat(t)},write:"#write-".concat(t),preview:"#preview-".concat(t)},isWriting:!0,isSubmiting:!1}},computed:Object(r.a)({},Object(c.e)("auth",["user"])),methods:{toUser:l.m,store:function(){var t=this;this.isSubmiting=!0;var data=this.form;this.$emit("store",{data:data}),setTimeout(function(){t.isSubmiting=!1},500)},cancel:function(){var t=this;this.$refs.editor.value.trim()?this.$confirm("Changes you made may not be saved. Are you sure?","Are you sure?").then(function(){return t.$emit("cancel")}).catch(d.b):this.$emit("cancel")},writingMode:function(t){this.isWriting=t},append:function(text){this.form[this.name]+=text},reset:function(){this.$refs.editor.reset()},focus:function(){this.$refs.editor.focus()}}},E=(n(1338),Object($.a)(R,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-form"},[n("Tabs",{attrs:{"initial-active-pane":"write"}},[n("TabPane",{attrs:{label:"Write",name:"write"}},[n("div",{staticClass:"comment-form__write",class:{"has-avatar":t.showAvatar}},[n("nuxt-link",{attrs:{to:t.toUser(t.user)}},[t.showAvatar?n("Avatar",{staticClass:"mx-05",attrs:{image:t.user.avatar,size:"md"}}):t._e()],1),t._v(" "),n("LiteEditor",{ref:"editor",attrs:{name:t.name,placeholder:t.placeholder,rows:"1"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.store(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.cancel(e))}]},model:{value:t.form[t.name],callback:function(e){t.$set(t.form,t.name,e)},expression:"form[name]"}})],1)]),t._v(" "),n("TabPane",{attrs:{label:"Preview",name:"preview"}},[t.form[t.name]?n("MarkdownPure",{staticClass:"comment-form__preview",attrs:{contents:t.form[t.name]}}):n("div",{staticClass:"text-muted comment-form__preview"},[t._v("\n                Nothing to preview!\n            ")])],1),t._v(" "),n("div",{staticClass:"comment-form__actions"},[t.showCancel?n("button",{staticClass:"btn btn-sm",on:{click:function(e){return e.stopPropagation(),t.cancel(e)}}},[t._v("\n                "+t._s(t.cancelText)+"\n            ")]):t._e(),t._v(" "),n("el-button",{staticClass:"btn btn-sm btn-primary",attrs:{loading:t.isSubmiting,disabled:!t.form[t.name],type:"primary"},on:{click:function(e){return e.preventDefault(),t.store(e)}}},[t._v("\n                "+t._s(t.submitText)+"\n            ")]),t._v(" "),t._t("extend")],2)],1)],1)},[],!1,null,null,null));e.a=E.exports},1173:function(t,e,n){"use strict";var r=n(4),o=n(8),c={computed:Object(r.a)({},Object(o.c)("config",{banner:"currentBanner"}))},l=(n(1271),n(0)),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.banner?n("v-ctr",{staticClass:"promo__banner",attrs:{name:"Main banner - "+t.banner.name}},[n("a",{attrs:{href:t.banner.link,"aria-ctr-enable":t.banner.name,target:"_blank",rel:"noopener"}},[n("div",{style:{"background-color":t.banner.background_color}},[n("div",{staticClass:"container px-0"},[n("img",{staticClass:"promo__banner__image",style:{"max-height":t.banner.height+"px"},attrs:{alt:t.banner.name,src:t.banner.image}})])])])]):t._e()},[],!1,null,null,null);e.a=component.exports},1175:function(t,e,n){"use strict";n(10);var r=n(3),o=n(4),c=n(7),l=n.n(c),d=n(8),m={mixins:[n(1170).a],props:{rateable:Object,organization:Object,send:{type:Function,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",["authenticated"])),methods:Object(o.a)({},Object(d.b)("auth",["showAuthDialog"]),{handle:function(t){return this.authenticated?this.sendVote(t).catch(this.showErrorMessage):this.showAuthDialog()},sendVote:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.processing){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.processRequest(this.send)(e);case 5:this.sendGaEvent(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(2),this.$message.error("Something went wrong. Please try again later."),t.t0.response){t.next=13;break}throw t.t0;case 13:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}(),showErrorMessage:function(t){var e=l()(t,"response.data.reason");if(!e)throw this.$message.error("Something went wrong while trying to send your vote"),t;this.$message.warning(e)},sendGaEvent:function(t){if(this.rateable){var e=l()(this.organization,"google_analytics_id"),n={eventCategory:"Interaction",eventAction:"Rate ".concat(this.rateable.type),eventLabel:this.rateable.id,eventValue:t};this.$ga.event(n),this.$ga.tracker(e,"organization").event(n)}}})},h=n(0),component=Object(h.a)(m,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vote"},[this._t("default",null,{vote:this.handle,processing:this.state.processing})],2)},[],!1,null,null,null);e.a=component.exports},1176:function(t,e,n){"use strict";n(10);var r=n(3),o=n(4),c=n(162),l=n(8),d={reason:{required:!0,message:"Please choose a reason."}},m={mixins:[c.a],props:{sendReport:{type:Function,required:!0}},data:function(){return{rules:d,show:!1,reported:!1,processing:!1,form:{reason:null,source:null}}},computed:Object(o.a)({},Object(l.c)("auth",["authenticated"])),methods:{open:function(){this.authenticated?this.show=!0:this.$store.dispatch("auth/showAuthDialog")},close:function(){this.show=!1},report:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.processing=!0,t.next=4,this.sendReport(this.form);case 4:this.close(),this.reported=!0,this.$message("Content successfully reported"),t.next=14;break;case 9:throw t.prev=9,t.t0=t.catch(0),this.close(),this.$message.error("There was a problem reporting this content. Please try again later"),t.t0;case 14:return t.prev=14,this.processing=!1,t.finish(14);case 17:case"end":return t.stop()}},t,this,[[0,9,14,17]])}));return function(){return t.apply(this,arguments)}}(),reset:function(){this.$refs.form.resetFields()}}},h=n(0),component=Object(h.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{ref:"dialog",attrs:{show:t.show,title:"Report content",size:"small"},on:{"update:show":function(e){t.show=e},close:t.reset}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"top",size:"mini"}},[n("el-form-item",{attrs:{prop:"reason",label:"Reason for reporting this content"}},[n("el-radio-group",{staticClass:"mb-05",model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}},[n("el-radio",{staticClass:"d-block mb-05",attrs:{name:"reason",label:"1"}},[t._v("\n                    Spam\n                ")]),t._v(" "),n("el-radio",{staticClass:"d-block ml-0 mb-05",attrs:{name:"reason",label:"2"}},[t._v("\n                    Rules Violation\n                ")]),t._v(" "),n("el-radio",{staticClass:"d-block ml-0 mb-05",attrs:{name:"reason",label:"3"}},[t._v("\n                    Harashment\n                ")]),t._v(" "),n("el-radio",{staticClass:"d-block ml-0",attrs:{name:"reason",label:"4"}},[t._v("\n                    Infringes copyright\n                ")])],1)],1),t._v(" "),n("el-form-item",{attrs:{prop:"source"}},[n("el-input",{attrs:{type:"textarea",placeholder:"Comment"},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}})],1)],1),t._v(" "),n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("a",{staticClass:"link",attrs:{href:"/terms",target:"_blank",rel:"noopener"}},[t._v("Viblo Terms of Service")]),t._v(" "),n("el-button",{attrs:{loading:t.processing,size:"small"},on:{click:function(e){return t.submit(t.$refs.form,t.report)}}},[t._v("\n            Report\n        ")])],1)],1)},[],!1,null,null,null);e.a=component.exports},1177:function(t,e,n){"use strict";n(40);var r={props:{title:String,url:String,tags:Array,orientation:{type:String,default:"vertical"},size:{type:String,default:"small"}},computed:{tooltipPlacement:function(){return"vertical"===this.orientation?"bottom":"right"}},methods:{facebook:function(t,title){return"http://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(t),"&title=").concat(encodeURIComponent(title))},twitter:function(t,e,n){return function(t,title,e){return"https://twitter.com/intent/tweet?url=".concat(t,"&text=").concat(encodeURIComponent(title),"&hashtags=").concat(encodeURIComponent(e))}(t,e,n.map(function(t){return t.name}).join(","))},google:function(t){return"https://plus.google.com/share?url=".concat(encodeURIComponent(t))}}},o=(n(1322),n(0)),component=Object(o.a)(r,function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"social-sharing",class:(t={},t["social-sharing--"+e.orientation]=!0,t["social-sharing--"+e.size]=!0,t)},[e._t("default",[r("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"link link--muted",attrs:{"tooltip-placement":e.tooltipPlacement,href:e.facebook(e.url,e.title),target:"_blank",rel:"noopener",title:"Share a link to this page on Facebook"}},[r("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),e._v(" "),r("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"link link--muted",attrs:{"tooltip-placement":e.tooltipPlacement,href:e.twitter(e.url,e.title,e.tags),target:"_blank",rel:"noopener",title:"Share a link to this page on Twitter"}},[r("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})])],{facebook:e.facebook(e.url,e.title),twitter:e.twitter(e.url,e.title,e.tags),google:e.google(e.url)})],2)},[],!1,null,"e1ec6290",null);e.a=component.exports},1178:function(t,e,n){"use strict";var r={functional:!0,props:{stats:Object,className:[String,Array,Object]},render:function(t,e){var n=e.props;return t("div",{class:["post-stats",n.className]},[t("span",{class:"stats-item mr-05",attrs:{title:"Views"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-eye",attrs:{"aria-hidden":"true"}})," ",n.stats.views_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Clips"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-paperclip",attrs:{"aria-hidden":"true"}})," ",n.stats.clips_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Comments"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-comments",attrs:{"aria-hidden":"true"}})," ",n.stats.comments_count])])}},o=(n(1235),n(0)),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.a=component.exports},1179:function(t,e,n){},1180:function(t,e,n){},1181:function(t,e,n){},1182:function(t,e,n){},1183:function(t,e,n){},1189:function(t,e,n){},1192:function(t,e,n){},1195:function(t,e,n){},1198:function(t,e,n){},1199:function(t,e,n){},1200:function(t,e,n){},1201:function(t,e,n){"use strict";n.r(e),n.d(e,"createDropzone",function(){return m});var r=n(4),o=n(1257),c=n.n(o),l=n(292),d=n.n(l);c.a.autoDiscover=!1;var m=function(t,e){return new c.a(t,Object(r.a)({url:"/api/uploads",acceptedFiles:"image/jpeg,image/png,image/gif",maxFiles:5,maxFilesize:6,headers:{"X-CSRF-TOKEN":d.a.read("XSRF-TOKEN")}},e))}},1202:function(t,e,n){},1203:function(t,e,n){},1204:function(t,e,n){},1205:function(t,e,n){},1206:function(t,e,n){},1207:function(t,e,n){},1211:function(t,e,n){"use strict";n(41);var r=n(1254),o=n.n(r);function c(t){t.style.width="".concat(t.getBoundingClientRect().width,"px")}var l,d=(l="undefined"!=typeof window?window.pageYOffset:0,function(t){if(t===l)return null;var e=t>l?"down":"up";return l=t,e}),m={props:{offsetTop:{type:Number,default:80}},data:function(){return{dockedPosition:null,innerStyle:{}}},computed:{dockedClass:function(){return this.dockedPosition?"docked ".concat(this.dockedPosition):null}},mounted:function(){window.addEventListener("scroll",this.onScroll),c(this.$refs.inner),this.$_resizeSensor=new o.a(this.$refs.inner,this.recalculatePosition)},destroyed:function(){window.removeEventListener("scroll",this.onScroll),this.$_resizeSensor&&this.$_resizeSensor.detach()},methods:{onScroll:function(){var t=d(window.pageYOffset);this.$refs.inner.clientHeight<this.$el.clientHeight?this.updatePosition(t):this.dockedPosition&&this.unstick()},recalculatePosition:function(){var t=this.$el.getBoundingClientRect(),e=this.$refs.inner.getBoundingClientRect();c(this.$refs.inner),t.top<0&&(e.height>t.bottom?this.restAtBottom():this.stickTop())},updatePosition:function(t){var e=this.$el.getBoundingClientRect();if(e.top>=this.offsetTop)this.unstick();else{var n,r,o=this.$refs.inner.getBoundingClientRect(),c=o.height+this.offsetTop;if(e.bottom<=window.innerHeight&&c>e.bottom)this.restAtBottom();else if(c<window.innerHeight)this.stickTop();else if(n=this.dockedPosition,r=t,"top"===n&&"down"===r||"bottom"===n&&"up"===r){var l=o.top-e.top;this.float(l)}else o.bottom<=window.innerHeight?this.stickBottom():o.top>=this.offsetTop&&this.stickTop()}},float:function(t){this.dockedPosition=null,this.innerStyle={transform:"translateY(".concat(t,"px)")}},stickTop:function(){this.dockedPosition="top",this.innerStyle={top:"".concat(this.offsetTop,"px")}},stickBottom:function(){this.dockedPosition="bottom",this.innerStyle={}},restAtBottom:function(){this.dockedPosition="rested",this.innerStyle={}},unstick:function(){this.dockedPosition=null,this.innerStyle={}}}},h=(n(1225),n(0)),component=Object(h.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sticky-sidebar"},[e("div",{ref:"inner",class:["sticky-sidebar__inner",this.dockedClass],style:this.innerStyle},[this._t("default")],2)])},[],!1,null,null,null);e.a=component.exports},1212:function(t,e,n){"use strict";var r=n(4),o=n(8),c=n(9),l=n.n(c),d=n(18),m=n(160),h={components:{OrganizationAvatar:n(1152).a,Subscribe:m.a},props:{organization:{type:Object,required:!0},prefix:{type:String,default:"in"}},computed:{stats:function(){var t=this.$store.getters["entities/organizations/get"](this.organization.id);return l()({},this.organization,t)},toOrganization:function(){return Object(d.g)(this.organization)}},methods:Object(r.a)({},Object(o.b)("entities/organizations",["subscribe"]))},f=(n(1231),n(0)),component=Object(f.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-inline"},[t.prefix?n("span",[t._v(t._s(t.prefix))]):t._e(),t._v(" "),n("el-popover",{staticClass:"el-popover__title",attrs:{title:t.organization.name,"open-delay":600,placement:"top-start",width:"300",trigger:"hover"}},[n("nuxt-link",{staticClass:"organization-name",attrs:{slot:"reference",to:t.toOrganization},slot:"reference"},[t._v("\n            "+t._s(t.organization.name)+"\n        ")]),t._v(" "),[n("div",{staticClass:"d-flex justify-content-between"},[n("p",{staticClass:"text-left"},[t._v("\n                    "+t._s(t.organization.short_description||"No description")+"\n                ")]),t._v(" "),n("OrganizationAvatar",{attrs:{slug:t.organization.slug,image:t.organization.avatar,size:"lg","image-size":"thumbnail"}})],1),t._v(" "),n("div",{staticClass:"d-flex justify-content-between align-items-center border-top mt-1 pt-05"},[n("div",[t._v("\n                    Followed by "),n("span",{staticClass:"text-body"},[t._v(t._s(t.stats.followers_count))]),t._v(" people.\n                ")]),t._v(" "),n("subscribe",{ref:"subscribe",attrs:{send:function(e){return t.subscribe({organization:t.stats,value:e})},subscribable:{type:"Organization",id:t.organization.slug}}},[n("button",{staticClass:"btn btn-follow",class:{following:!!t.stats.following},on:{click:function(e){return t.$refs.subscribe.handle(!t.stats.following)}}},[t._v("\n                        "+t._s(t.stats.following?"Following":"Follow")+"\n                    ")])])],1)]],2)],1)},[],!1,null,null,null);e.a=component.exports},1213:function(t,e,n){"use strict";var r=n(18),o={props:{tags:Array,size:{type:String,default:"mini"},page:String},methods:{toTag:r.l}},c=(n(1232),n(0)),component=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tags"},[t._t("prepend"),t._v(" "),t._l(t.tags,function(e,r){return t._t("default",[n("v-tag",{attrs:{url:t.toTag(e,t.page),name:e.name,size:t.size}})],{index:r,tag:e})}),t._v(" "),t._t("append")],2)},[],!1,null,"8b2d814c",null);e.a=component.exports},1214:function(t,e,n){"use strict";var r=n(168);function o(t,e){setTimeout(e,5e3),window.requestAnimationFrame(r.a.bind(null,t,{offset:-150,duration:200}))}var c={functional:!0,render:function(t,e){return t("transition-group",{attrs:{name:"list",tag:"div"},class:"list-transition",on:{enter:o}},[e.children])}},l=(n(1330),n(0)),component=Object(l.a)(c,void 0,void 0,!1,null,null,null);e.a=component.exports},1217:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(1),o=n.n(r),c=function(t,e,data){return o.a.post("/admin/deleted-reasons/".concat(t,"/").concat(e),data)}},1220:function(t,e,n){"use strict";n(1218);var r=n(4),o=n(8),c=n(1159),l=n.n(c),d=n(175),m=n(1177),h=function(element,t){return!(!element||"string"!=typeof element.className)&&-1!==element.className.indexOf(t)},f={components:{SocialSharing:m.a},mixins:[d.mixin],props:{text:{type:String,default:""},label:{type:String,default:"Share a link to this answer"},sharingId:{type:String,required:!0},sharingTitle:{type:String,default:""},className:[String,Object]},data:function(){return{$clipboard:null}},computed:Object(r.a)({},Object(o.e)("promoted",["currentSharingId"]),{openShareTip:function(){return this.currentSharingId===this.sharingId}}),mounted:function(){this.$refs.clipboard&&(this.$clipboard=new l.a(this.$refs.clipboard))},destroyed:function(){this.$clipboard&&(this.$clipboard.destroy(),this.$clipboard=null)},methods:{onCopied:function(){var t=this;this.$refs.clipboard.setAttribute("area-tooltip-hidden",!1),setTimeout(function(){t.$refs.clipboard&&t.$refs.clipboard.setAttribute("area-tooltip-hidden",!0)},1e3)},setCurrentSharingId:function(t){this.$store.commit("promoted/SET_SHARING_ID",t)},handleClickAway:function(t){if(t.path){var e=-1===t.path.findIndex(function(element){return h(element,"share-tip")}),n=h(t.target,"icon-share")||h(t.target.parentElement,"icon-share");e&&!n&&this.setCurrentSharingId(null)}}}},v=(n(1339),n(0)),component=Object(v.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative",class:t.className},[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"icon-share link plain text-muted",attrs:{href:t.text,title:t.label},on:{click:function(e){return e.preventDefault(),t.setCurrentSharingId(t.sharingId)}}},[n("span",[t._v("Share")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.openShareTip,expression:"openShareTip"},{name:"on-clickaway",rawName:"v-on-clickaway",value:t.handleClickAway,expression:"handleClickAway"}],staticClass:"share-tip"},[n("label",{staticClass:"tip-label"},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"d-flex share-input-group"},[n("input",{staticClass:"d-block share-link",attrs:{"data-sharing-id":t.sharingId,type:"text",readonly:"readonly"},domProps:{value:t.text},on:{click:function(t){return t.target.select()}}}),t._v(" "),n("span",{ref:"clipboard",staticClass:"share-link-addon viblo-tooltip",attrs:{"data-clipboard-text":t.text,"data-clipboard-target":"[data-sharing-id='"+t.sharingId+"']","area-label":"Copied!","area-tooltip-hidden":"true",title:"Copy link"},on:{click:t.onCopied}},[n("i",{staticClass:"fa fa-copy"})])]),t._v(" "),n("social-sharing",{staticClass:"social-sharing-icons",attrs:{title:t.sharingTitle,url:t.text,tags:[]},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{staticClass:"link social-btn-circle facebook-btn",attrs:{href:e.facebook,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("a",{staticClass:"link social-btn-circle twitter-btn",attrs:{href:e.twitter,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("a",{staticClass:"link social-btn-circle google-btn",attrs:{href:e.google,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-google-plus",attrs:{"aria-hidden":"true"}})])]}}])}),t._v(" "),n("div",{staticClass:"d-flex",staticStyle:{"justify-content":"flex-end"}},[n("span",{staticClass:"close-share-tip",on:{click:function(e){return t.setCurrentSharingId(null)}}},[t._v("\n                Close\n            ")])])],1)])},[],!1,null,"076cccb5",null);e.a=component.exports},1221:function(t,e,n){"use strict";var r=n(162),o={reason:{required:!0,message:"Please choose a reason."}},c={mixins:[r.a],data:function(){return{rules:o,form:{reason:"spam",source:""}}}},l=n(0),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"report-form"},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"top",size:"mini"}},[n("el-form-item",{attrs:{prop:"reason",label:"Reason for delete this content"}},[n("el-radio-group",{staticClass:"mb-05",model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}},[n("el-radio",{staticClass:"d-block mb-05",attrs:{label:"spam",name:"reason"}},[t._v("\n                    Spam\n                ")]),t._v(" "),n("el-radio",{staticClass:"d-block ml-0 mb-05",attrs:{label:"tos_violation",name:"reason"}},[t._v("\n                    Rules Violation\n                ")]),t._v(" "),n("el-radio",{staticClass:"d-block ml-0 mb-05",attrs:{label:"harashment",name:"reason"}},[t._v("\n                    Harashment\n                ")]),t._v(" "),n("el-radio",{staticClass:"d-block ml-0",attrs:{label:"infringes_copyright",name:"reason"}},[t._v("\n                    Infringes Copyright\n                ")])],1)],1),t._v(" "),n("el-form-item",{attrs:{prop:"source"}},[n("el-input",{attrs:{autosize:{minRows:3},type:"textarea",placeholder:"Comment"},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}})],1)],1)],1)},[],!1,null,null,null);e.a=component.exports},1222:function(t,e,n){"use strict";var r=n(37),o=n.n(r),map=n(58),c=n.n(map),filter=n(84),l=n.n(filter),d=n(15),m=n(1151),h=n(159),f=n(160),v={reputation:{attribute:"reputation",tooltip:"Reputations",icon:"fa fa-star"},followers:{attribute:"followers_count",tooltip:"Followers",icon:"fa fa-user-plus"},posts:{attribute:"posts_count",tooltip:"Posts",icon:"fa fa-pencil"},questions:{attribute:"questions_count",tooltip:"Questions",icon:"fa fa-question"},answers:{attribute:"answers_count",tooltip:"Answers",icon:"fa fa-reply"}},_={components:{UserAvatar:h.a,Stats:m.a,Subscribe:f.a},props:{user:{type:Object,required:!0},stats:{type:Array,required:!0},follow:{type:Function,required:!0}},computed:{profilePage:function(){return Object(d.j)(this.user)},userStats:function(){var t=this;return o()(c()(function(t){return v[t]}),l()(Boolean),c()(function(e){return{name:"".concat(e.tooltip,": ").concat(t.user[e.attribute]),icon:e.icon,value:t.user[e.attribute]}}))(this.stats)},editProfile:function(){return"".concat("https://accounts.viblo.asia","/profile/personal")}},methods:{handleFollow:function(t){return this.follow({username:this.user.username,value:t})}}},w=(n(1275),n(0)),component=Object(w.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar__user"},[n("div",{staticClass:"sidebar__user__row"},[n("UserAvatar",{attrs:{image:t.user.avatar,"banned-time":t.user.banned_at,username:t.user.username,size:"xl"}}),t._v(" "),n("div",{staticClass:"d-flex flex-column justify-content-center"},[n("nuxt-link",{class:{"is-banned":t.user.banned_at},attrs:{to:t.profilePage}},[t._v("\n                "+t._s(t.user.name)+"\n            ")]),t._v(" "),n("span",{staticClass:"d-block"},[t._v("@"+t._s(t.user.username))])],1)],1),t._v(" "),n("div",{staticClass:"sidebar__user__row"},[n("div",{staticClass:"user-action"},[t.user.is_self?n("a",{staticClass:"btn btn-follow btn-full-width btn-small-padding",attrs:{href:t.editProfile,target:"_blank",rel:"noopener"}},[t._v("\n                Edit\n            ")]):n("subscribe",{ref:"subscribe",attrs:{send:t.handleFollow,subscribable:{type:"User",id:t.user.id}}},[n("button",{staticClass:"btn btn-follow btn-full-width btn-small-padding",class:{following:t.user.following},attrs:{disabled:t.user.banned_at},on:{click:function(e){return t.$refs.subscribe.handle(!t.user.following)}}},[t._v("\n                    "+t._s(t.user.following?"Following":"Follow")+"\n                ")])])],1),t._v(" "),n("Stats",{staticClass:"text-nowrap",attrs:{stats:t.userStats}})],1)])},[],!1,null,null,null);e.a=component.exports},1223:function(t,e,n){"use strict";n(41);var r={props:{readingTime:{type:Number,default:1}}},o=(n(1233),n(0)),component=Object(o.a)(r,function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"text-muted post-reading_time",attrs:{title:this.readingTime+" min read"}},[this._v("\n    "+this._s(this.readingTime)+" min read\n")])},[],!1,null,null,null);e.a=component.exports},1225:function(t,e,n){"use strict";var r=n(1155);n.n(r).a},1226:function(t,e,n){"use strict";var r=n(1156);n.n(r).a},1231:function(t,e,n){"use strict";var r=n(1157);n.n(r).a},1232:function(t,e,n){"use strict";var r=n(1158);n.n(r).a},1233:function(t,e,n){"use strict";var r=n(1160);n.n(r).a},1234:function(t,e,n){"use strict";var r=n(1161);n.n(r).a},1235:function(t,e,n){"use strict";var r=n(1162);n.n(r).a},1236:function(t,e,n){"use strict";var r=n(1163);n.n(r).a},1237:function(t,e,n){"use strict";var r=n(1164);n.n(r).a},1239:function(t,e,n){"use strict";var r=n(1165),o=n.n(r);e.default=o.a},1240:function(t,e,n){"use strict";var r=n(1166),o=n.n(r);e.default=o.a},1241:function(t,e,n){"use strict";var r=n(1167);n.n(r).a},1242:function(t,e,n){"use strict";var r=n(1168);n.n(r).a},1244:function(t,e,n){"use strict";var r=n(32),o=n.n(r),c=n(574),l=(n(40),n(570),n(163),n(382),n(7)),d=n.n(l),m=n(37),h=n.n(m),f=n(1238),v=n.n(f),map=n(58),_=n.n(map),w=n(1333),C=n.n(w),y=n(1334),O=n.n(y),j=n(1256).convert({cap:!1}),x={emoji:/(^|\s):([a-z0-9_]+)$/,mention:/(^|\s)@([A-Za-z0-9\\.\\-_]*)$/};function k(t){return function(input){return h()(j(function(t,e){return e.startsWith(input)}),C.a,O()(5),_()(function(e){return{completion:e,data:t[e]}}))(t)}}var $=n(573),S={functional:!0,props:{suggestion:Object},render:function(t,e){var n=e.props;return t("div",[t("div",{class:["d-inline-block mr-05",e.$style.icon],domProps:{innerHTML:$.default.parse(n.suggestion.data)}}),t("strong",[n.suggestion.completion])])}},A=n(1239),P=n(0);var z=Object(P.a)(S,void 0,void 0,!1,function(t){this.$style=A.default.locals||A.default},null,null).exports,T=n(159),R={functional:!0,props:{suggestion:Object},render:function(t,e){var n=e.props,r=e.$style,o=n.suggestion.data,c=o.username,l=o.name,d=o.avatar;return t("div",{class:"d-flex"},[t(T.a,{attrs:{image:d,username:c,size:"xs"},class:"mr-05"}),t("strong",{class:["mr-05",r.name]},[l]),t("span",{class:"text-muted"},["@",c])])}},E=n(1240);var I=Object(P.a)(R,void 0,void 0,!1,function(t){this.$style=E.default.locals||E.default},null,null).exports,D=n(301),N={props:{items:Array,show:Boolean},data:function(){return{current:0}},watch:{show:function(){this.current=0}},methods:{select:function(t){this.$emit("selected",t)},selectCurrent:function(){var t=this.items[this.current];this.select(t.completion)},moveUp:function(){this.show&&this.items.length>0&&(this.current=Object(D.a)(this.current,0,this.items.length-1,"prev"))},moveDown:function(){this.show&&this.items.length>0&&(this.current=Object(D.a)(this.current,0,this.items.length-1,"next"))}}},V=(n(1241),{components:{SuggestionContainer:Object(P.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"suggestion-container"},[t._l(t.items,function(e,r){return[n("div",{key:r,staticClass:"suggestion-container__item",class:{active:t.current===r},on:{click:function(n){return t.select(e.completion)},mouseover:function(e){t.current=r}}},[t._t("default",null,{item:e})],2)]})],2)},[],!1,null,null,null).exports},props:{typingText:String},inject:{localMentions:{default:function(){return[]}}},data:function(){return{show:!1}},computed:{suggestionProvider:function(){var t="function"==typeof this.localMentions?this.localMentions():this.localMentions;return function(t){var e,n,r=t.emoji,o=t.mentions,c={emoji:k(r),mention:(e=o,n=function(t){return{completion:e[t].username,data:e[t]}},function(input){return h()(j(function(input){return function(t){return v()([t.name,t.username],function(text){return-1!==text.toLowerCase().indexOf(input.toLowerCase())})}}(input)),C.a,O()(5),_()(n))(e)})};return function(t,e){return d()(c,t,function(){return[]})(e)}}({emoji:c,mentions:t})},type:function(){return text=this.typingText,C()(x).find(function(t){return x[t].test(text)});var text},pendingComplete:function(){return t=this.type,this.typingText.match(x[t])[2];var t},items:function(){return this.suggestionProvider(this.type,this.pendingComplete)},itemComponent:function(){return{emoji:z,mention:I}[this.type]}},watch:{pendingComplete:function(t){this.$emit("pending-complete",t)},items:function(t){this.show=t.length>0}},methods:{emitSelected:function(t){this.$emit("select",{type:this.type,suggestion:t,pending:this.pendingComplete})},handleKeyEvents:function(t){if(this.show)switch(o()([38,40,27,13],t.keyCode)&&t.preventDefault(),t.keyCode){case 38:this.$refs.container.moveUp();break;case 40:this.$refs.container.moveDown();break;case 27:this.show=!1;break;case 13:this.$refs.container.selectCurrent()}}}}),U=Object(P.a)(V,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("suggestion-container",{ref:"container",attrs:{show:t.show,items:t.items},on:{selected:t.emitSelected},scopedSlots:t._u([{key:"default",fn:function(e){return n(t.itemComponent,{tag:"component",attrs:{suggestion:e.item}})}}])})},[],!1,null,null,null);e.a=U.exports},1245:function(t,e,n){"use strict";var r=n(17),o=n.n(r),c=n(18),l=n(159),d=n(4),m=n(8),h=n(1159),f=n.n(h),v=n(1154),_=n(1148),w={name:"PostHeader",serverCacheKey:function(t){return t.post.slug},components:{Tags:v.a,UserInline:_.a},props:{post:{type:Object,required:!0}},computed:Object(d.a)({},Object(m.e)("auth",["user"]),{isAuthor:function(){return!!this.user&&this.post.user.data.id===this.user.id}}),mounted:function(){var t=this;if(this.$refs.clipboard){this.$clipboard=new f.a(this.$refs.clipboard,{text:function(){return Object(c.a)(Object(c.i)(t.post))}})}},destroyed:function(){this.$clipboard&&(this.$clipboard.destroy(),this.$clipboard=null)},methods:{toPost:function(){return Object(c.i)(this.post)},toUser:function(){return Object(c.m)(this.post.user.data)}}},C=(n(1234),n(0)),y=Object(C.a)(w,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-header"},[t.post.published_at?n("div",{staticClass:"post-meta d-flex align-items-center flex-wrap"},[n("UserInline",{attrs:{user:t.post.user.data,"show-avatar":!1,"show-username":!1}}),t._v(" "),n("div",{staticClass:"text-muted"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],ref:"clipboard",staticClass:"icon-btn btn-link btn-copy ml-05 p-0",attrs:{title:"Copy URL"}},[n("i",{staticClass:"fa fa-link",attrs:{"aria-hidden":"true"}})])])],1):t._e(),t._v(" "),n("div",{staticClass:"post-title-box d-flex align-items-center"},[n("h1",{staticClass:"post-title-header word-break"},[t._t("title",[t.post.published_at&&t.post.is_video?n("span",[n("i",{staticClass:"fa fa-play-circle video-indicator",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),n("nuxt-link",{staticClass:"link",attrs:{to:t.toPost()}},[t._v("\n                    "+t._s(t.post.title)+"\n                ")])])],2),t._v(" "),n("tags",{attrs:{tags:t.post.tags.data,promoted:t.post.promoted,trending:t.post.trending,translation:null!=t.post.translation_source,system:t.post.system_tag}})],1)])},[],!1,null,null,null).exports,O=n(1178),j=n(1149),x=n(1171),k={components:{Avatar:l.a,PostHeader:y,PostStats:O.a,PostScore:j.a,Commentators:x.a},props:{post:{type:Object,required:!0},contentPreview:Boolean,onVideoPage:{type:Boolean,default:!1},className:[String,Array,Object]},methods:{stats:function(){return o()(this.post,["views_count","clips_count","comments_count"])},toUser:function(){return Object(c.m)(this.post.user.data)},toPost:function(){return Object(c.i)(this.post)}}},$=(n(1236),Object(C.a)(k,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card border-0 rounded-0 mb-0"},[n("div",{staticClass:"card-block post-feed-item d-flex",class:t.className},[n("figure",{staticClass:"post-author-avatar"},[n("avatar",{attrs:{image:t.post.user.data.avatar,username:t.post.user.data.username,size:"md"}})],1),t._v(" "),n("div",{staticClass:"ml-05 full-width"},[n("post-header",{attrs:{post:t.post}}),t._v(" "),t.contentPreview&&!t.onVideoPage?n("div",{staticClass:"content word-break mt-05 mb-05"},[n("MarkdownPure",{attrs:{contents:t.post.contents_short}})],1):t._e(),t._v(" "),t.onVideoPage?n("div",{staticClass:"content word-break mt-05 mb-05"},[n("div",{staticClass:"row"},[t.post.thumbnail_url?n("div",{staticClass:"col-md-5 col-sm-12 video-thumbnail"},[n("nuxt-link",{attrs:{to:t.toPost(t.post)}},[n("img",{staticClass:"img-fluid m-0",attrs:{src:t.post.thumbnail_url,alt:t.post.title}})])],1):t._e(),t._v(" "),n("div",{class:[t.post.thumbnail_url?"col-md-7 col-sm-12":"col-12"]},[n("MarkdownPure",{attrs:{contents:t.post.contents_short}})],1)])]):t._e(),t._v(" "),t.post.system?t._e():n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"d-flex"},[n("post-stats",{attrs:{stats:t.stats()}}),t._v(" "),t.post.commentators.data.length>0?n("commentators",{staticClass:"commentators",attrs:{users:t.post.commentators.data}}):t._e()],1),t._v(" "),n("post-score",{attrs:{score:t.post.points,rated:t.post.rated_value}})],1)],1)])])},[],!1,null,null,null));e.a=$.exports},1246:function(t,e,n){"use strict";n.r(e);var r=n(4),o=(n(41),n(8)),c=n(1214),l=n(1270),d=n(1172),m=n(1262),h=n(1148),f=n(1176),v={components:{UserInline:h.a,CommentMeta:l.a,CommentForm:d.a,CommentFooter:m.a,ListTransition:c.a,ReportDialog:f.a},props:{thread:{required:!0,type:[Number,String]},store:{type:String,required:!0},commentable:Object},data:function(){return{editing:!1,replying:!1}},computed:Object(r.a)({},Object(o.c)("auth",["authenticated"]),Object(o.e)({comment:function(t,e){var n=e["".concat(this.store,"/get")](this.thread),o=e["auth/userId"];return Object(r.a)({},n,{is_own:n.user_id===o})},children:function(t,e){return e["".concat(this.store,"/thread")](this.thread)},user:function(t,e){return e["entities/users/get"](this.comment.user_id)}})),beforeCreate:function(){this.$options.components.Thread=n(1246).default},methods:Object(r.a)({},Object(o.b)("auth",["showAuthDialog"]),Object(o.b)({onReply:function(){return this.authenticated?(this.replying=!0,!0):(this.showAuthDialog(),!1)},reply:function(t,e){var n=this;return t("".concat(this.store,"/add"),{commentable:this.commentable,values:Object(r.a)({},e.data,{ancestor_id:this.comment.id})}).then(function(){n.replying=!1})},update:function(t,e){var n=this;return t("".concat(this.store,"/update"),{id:this.comment.hash_id,values:e.data}).then(function(){n.editing=!1})},remove:function(t,e){return t("".concat(this.store,"/remove"),e)},vote:function(t,e){return t("".concat(this.store,"/vote"),{id:this.comment.id,value:e})},report:function(t,e){var form={id:this.comment.hash_id,values:e};t("".concat(this.store,"/report"),form)}}))},_=(n(1341),n(0)),component=Object(_.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-thread",attrs:{"data-commentid":t.comment.hash_id}},[n("header",{staticClass:"d-flex flex-wrap justify-content-between mb-05"},[n("UserInline",{attrs:{user:t.user}}),t._v(" "),n("CommentMeta",{attrs:{comment:t.comment}})],1),t._v(" "),t.editing?n("CommentForm",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.comment.contents,"show-avatar":!1,name:"comment_contents","submit-text":"Save"},on:{store:t.update,cancel:function(e){t.editing=!1}}}):[t.comment.deleted_at?[n("el-alert",{attrs:{closable:!1,"show-icon":!0,title:"This comment has been deleted",type:"info"}})]:[n("Markdown",{staticClass:"mb-05",attrs:{contents:t.comment.contents,renderer:"lite"}}),t._v(" "),n("CommentFooter",{attrs:{comment:t.comment,"send-vote":t.vote,"delete-comment":t.remove},on:{edit:function(e){t.editing=!0},report:function(){return t.$refs.reportDialog.open()},reply:function(e){return t.onReply()}}})]],t._v(" "),t.replying?n("CommentForm",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{name:"comment_contents","submit-text":"Reply"},on:{store:t.reply,cancel:function(e){t.replying=!1}}}):t._e(),t._v(" "),n("ListTransition",t._l(t.children,function(e,r){return n("Thread",{key:r,staticClass:"reply",attrs:{commentable:t.commentable,thread:e,store:t.store}})}),1),t._v(" "),n("ReportDialog",{ref:"reportDialog",attrs:{"send-report":t.report}})],2)},[],!1,null,null,null);e.default=component.exports},1247:function(t,e,n){"use strict";var r={data:function(){return{showing:!1}},methods:{show:function(){this.showing=!0}}},o=(n(1242),n(0)),component=Object(o.a)(r,function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-dialog",{staticClass:"md-help-dialog",attrs:{show:t.showing,title:"Markdown Help"},on:{"update:show":function(e){t.showing=e}}},[t._m(0)])},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-help-contents md-contents"},[n("span",[n("b",[t._v("Link Full: ")])]),n("a",{staticClass:"md-link",attrs:{href:"/helps/cach-su-dung-markdown-bxjvZYnwkJZ",target:"_blank",rel:"noopener"}},[n("b",[t._v("Click to see more")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Component")]),t._v(" "),n("th",[t._v("Markdown")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("b",[t._v("Bold")])]),t._v(" "),n("td",[t._v("**Bold** (No Space after opening and before closing)")])]),t._v(" "),n("tr",[n("td",[n("h6",[t._v("Next Line")])]),t._v(" "),n("td",[t._v("Using HTML "),n("span",[t._v("<br>")]),t._v(" tag or Enter Twice")])]),t._v(" "),n("tr",[n("td",[n("i",[t._v("Emphasize")])]),t._v(" "),n("td",[t._v("*Emphasize* (No Space after opening and before closing)")])]),t._v(" "),n("tr",[n("td",[n("code",[t._v("Inline code")])]),t._v(" "),n("td",[t._v("Inline code")])]),t._v(" "),n("tr",[n("td",[n("code",{staticClass:"language-js"},[n("span",[n("span",{staticClass:"hljs-keyword"},[t._v("var")]),t._v(" s = 'Syntax Highlighting';")])])]),t._v(" "),n("td",[t._v("\n                        ```javascript"),n("br"),t._v("\n                        var s = 'Syntax Highlighting';"),n("br"),t._v("\n                        ```\n                        "),n("hr"),t._v("\n                        If you want to include both language and filename"),n("br"),t._v("\n                        ```javascript:app/index.js"),n("br"),t._v("\n                        var s = 'Syntax Highlighting';"),n("br"),t._v("\n                        ```\n                    ")])]),t._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"#"}},[t._v("Link")])]),t._v(" "),n("td",[t._v("[Link](http://~)")])]),t._v(" "),n("tr",[n("td",[t._v("Image")]),t._v(" "),n("td",[t._v("![alt](http://~)")])]),t._v(" "),n("tr",[n("td",[n("h4",[t._v("Headings (h1~h6)")])]),t._v(" "),n("td",[t._v("# h1 (A space after #) "),n("br"),t._v(" ## h2 (A space after ##) "),n("br"),t._v(" ### h3 (A space after ###)")])]),t._v(" "),n("tr",[n("td",[n("li",[t._v("Unordered list")])]),t._v(" "),n("td",[t._v("* Item (A space after *)")])]),t._v(" "),n("tr",[n("td",[n("ul",{staticClass:"pl-1"},[n("li",{staticStyle:{"list-style-type":"decimal"}},[t._v("\n                                Ordered list\n                            ")])])]),t._v(" "),n("td",[t._v("1. Item")])]),t._v(" "),n("tr",[n("td",[t._v("Horizontal rules")]),t._v(" "),n("td",[t._v("* * *")])]),t._v(" "),n("tr",[n("td",[n("blockquote",{staticStyle:{margin:"0"}},[t._v("\n                            Blockquotes\n                        ")])]),t._v(" "),n("td",[t._v("> Blockquotes")])]),t._v(" "),n("tr",[n("td",[t._v("Table")]),t._v(" "),n("td",[n("div",[t._v("| Column 1 | Column 2 |")]),t._v(" "),n("div",[t._v("| - | - |")]),t._v(" "),n("div",[t._v("| Text | Text |")])])]),t._v(" "),n("tr",[n("td",[t._v("Escape markdown")]),t._v(" "),n("td",[t._v("\\")])]),t._v(" "),n("tr",[n("td",[t._v("Embed syntax")]),t._v(" "),n("td",[n("div",[t._v("{@embed: Your embed URL}")]),t._v(" "),n("small",[t._v("\n                            (Supported embed URL: Youtube, Vimeo, Slideshare, Codepen, Gist, JsFiddle, Google Slide, Soundcloud)\n                        ")])])]),t._v(" "),n("tr",[n("td",[t._v("Math formula")]),t._v(" "),n("td",[n("ul",{staticClass:"pl-1 mb-0"},[n("li",[n("div",[t._v("Inline: $f(x) = x$")]),t._v(" "),n("small",[t._v("(No spaces after opening or before closing)")])]),t._v(" "),n("li",[t._v("\n                                Block:"),n("br"),t._v("\n                                $$"),n("br"),t._v("\n                                f(x) = x"),n("br"),t._v("\n                                $$"),n("br")])]),t._v(" "),n("div",[n("a",{attrs:{href:"/helps/math",target:"_blank",rel:"noopener"}},[t._v("(See more)")])])])]),t._v(" "),n("tr",[n("td",[t._v("Aligning syntax")]),t._v(" "),n("td",[n("div",[t._v("\n                            Swap your content inside a HTML tag (div, p) with "),n("b",[t._v("align")]),t._v(" attribute. Example:\n                        ")]),t._v(" "),n("div",[n("code",[t._v('\n                                <div align="left|right|center|justify">'),n("br"),n("br"),t._v("\n                                [Your content here]"),n("br"),n("br"),t._v("\n                                </div>\n                            ")])]),t._v(" "),n("small",[t._v("(Some Markdown syntaxes may not work inside HTML tag when aligning.)")])])])])])])}],!1,null,null,null);e.a=component.exports},1248:function(t,e,n){"use strict";var r=n(1335),o=n(1336),c={components:{NimblePicker:r.NimblePicker},props:{emojiSuggestionStyle:{type:Object}},data:function(){return{vibloEmoji:o}},inject:["actions"],methods:{open:function(){this.show=!0},close:function(){this.show=!1},addEmoji:function(t){this.actions.insertText(t.colons)}}},l=n(0),component=Object(l.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("nimble-picker",{ref:"emojiPicker",style:this.emojiSuggestionStyle,attrs:{"show-categories":!1,"show-skin-tones":!1,native:!0,"emoji-size":20,i18n:{categories:{people:"Viblo emoticons"}},data:this.vibloEmoji,title:"Pick your emoji"},on:{select:this.addEmoji}})},[],!1,null,null,null);e.a=component.exports},1250:function(t,e,n){"use strict";var r=n(4),o=(n(41),n(83)),c=n.n(o),l=n(8),d={props:{userId:{type:Number,required:!0}},computed:Object(r.a)({},Object(l.e)({user:function(t,e){return e["entities/users/get"](this.userId)}}),{userAction:function(){return c()(this.dispatchUserAction)}}),methods:{dispatchUserAction:function(t,e){return this.$store.dispatch("entities/users/".concat(t),e)}}},m=n(0),component=Object(m.a)(d,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"user-container"},[this._t("default",null,{user:this.user,userAction:this.userAction})],2)},[],!1,null,null,null);e.a=component.exports},1251:function(t,e,n){"use strict";n(41);var r={mixins:[n(1175).a],props:{value:[Number,String],score:[Number,String],disabled:Boolean,isOwn:Boolean,timeBetween:{type:Number,default:10},limit:{type:Number,default:10}},methods:{handleClick:function(t){this.disabled||this.handle(t)},classNameFor:function(t){return this.disabled?["disabled"]:this.status(t)},disabledTitleOr:function(title){return this.disabled?this.isOwn?"You cannot vote your own comment":"You need 50 reputation to vote":title},status:function(t){switch(t){case"up":return{voted:this.value>0,disabled:this.value<0};case"down":return{voted:this.value<0,disabled:this.value>0};default:return null}}}},o=(n(1237),n(0)),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"score"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"icon-btn vote",class:t.classNameFor("up"),attrs:{title:t.disabledTitleOr("Upvote")},on:{click:function(e){return e.preventDefault(),t.handleClick("up")}}},[n("i",{class:"fa fa-chevron-up",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("span",{class:["comment-points",0!=t.value?"text-primary text-bold":"text-muted"]},[t._v("\n        "+t._s(t._f("signed")(t.score))+"\n    ")]),t._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"icon-btn vote",class:t.classNameFor("down"),attrs:{title:t.disabledTitleOr("Downvote")},on:{click:function(e){return e.preventDefault(),t.handleClick("down")}}},[n("i",{class:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}})])])},[],!1,null,"e2399992",null);e.a=component.exports},1252:function(t,e,n){"use strict";var r=n(15),o=n(1151),c={components:{Avatar:n(1152).a,Stats:o.a},props:{organization:{type:Object,required:!0}},computed:{organizationPage:function(){return Object(r.e)(this.organization)}},methods:{organizationStats:function(t){return[{name:"Posts: ".concat(t.posts_count),icon:"fa fa-pencil",value:t.posts_count},{name:"Members: ".concat(t.members_count),icon:"fa fa-users",value:t.members_count},{name:"Followers: ".concat(t.followers_count),icon:"fa fa-user-plus",value:t.followers_count}]}}},l=(n(1226),n(0)),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar__organization"},[n("div",{staticClass:"sidebar__organization__row"},[n("Avatar",{attrs:{image:t.organization.avatar,slug:t.organization.slug,"image-size":"thumbnail",size:"xl"}}),t._v(" "),n("div",{staticClass:"d-flex flex-column justify-content-center"},[n("nuxt-link",{staticClass:"word-break",attrs:{to:t.organizationPage}},[t._v("\n                "+t._s(t.organization.name)+"\n            ")]),t._v(" "),n("Stats",{staticClass:"text-nowrap",attrs:{stats:t.organizationStats(t.organization)}})],1)],1)])},[],!1,null,null,null);e.a=component.exports},1253:function(t,e,n){"use strict";n(41);var r=n(580),o=n.n(r),c={components:{Avatar:n(159).a},props:{users:{type:Array,default:function(){return[]}},limit:{type:Number,default:5},size:{type:String,default:"xs"},showMore:{type:Boolean,default:!0},total:{type:Number,default:0}},computed:{previewUsers:function(){return o()(this.users,0,this.limit)},more:function(){return this.showMore&&this.users.length>this.limit},count:function(){var t=0===this.total?this.users.length-this.limit:this.total-this.limit;return t>9?"9+":"+".concat(t)}}},l=(n(1281),n(0)),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-unstyled mb-0 d-flex align-items-center",class:"participants--"+t.size},[t._l(t.previewUsers,function(e){return n("li",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:e.id,staticClass:"participants__item",attrs:{title:e.name}},[n("Avatar",{attrs:{image:e.avatar,username:e.username,size:t.size}})],1)}),t._v(" "),t.more?n("li",[n("el-button",{staticClass:"participants__more",attrs:{size:"mini",circle:""},on:{click:function(e){return t.$emit("click-more-button")}}},[t._v("\n            "+t._s(t.count)+"\n        ")])],1):t._e()],2)},[],!1,null,null,null);e.a=component.exports},1262:function(t,e,n){"use strict";var r=n(4),o=n(8),c=n(18),l=n(1220),d=n(1251),m=n(7),h=n.n(m),f=n(1217),v=n(210),_=n(164),w=n(26),C=n(1221),y={props:{size:{type:String,default:"medium"},comment:{type:Object,required:!0}},computed:Object(r.a)({},Object(o.c)("auth",["authenticated","isAdmin","hasRole","isUser"]),{permissions:function(){return{canEdit:this.comment.is_own||this.isAdmin,canReport:!this.comment.is_own,canDelete:"User"===this.comment.commentable_type&&this.isUser(this.comment.commentable_id),canConvertToAnswer:this.isAdmin&&"Question"===this.comment.commentable_type}}}),methods:{confirmDelete:function(){var t=this;this.comment.is_own||!this.isAdmin?this.$confirm("Deleted comments are gone forever. Are you sure?","Delete comment").then(function(){return t.$emit("delete",t.comment)}):this.openConfirmDelete(this.comment)},confirmConvert:function(){var t=this;this.$confirm("This comment will be deleted then posted as an Answer. Are you sure?","Convert this to answer").then(function(){return t.convertToAnswer()})},confirmHighlightingCode:function(){var t=this;this.$confirm("Do you want to highlight code blocks in this comment?","Highlighting code blocks").then(function(){return t.highlightCodeBlocks()})},convertToAnswer:function(){var t=this;return Object(v.a)(this.comment).then(function(){return t.$message.success("Converted to answer successfully!")}).catch(Object(w.a)(this.$message.error))},highlightCodeBlocks:function(){var t=this;return Object(_.f)("comments",this.comment.hash_id).then(function(){return t.$message.success("Success! It maybe take a few minutes to complete.")}).catch(Object(w.a)(this.$message.error))},openConfirmDelete:function(t){var e=this,n=this.$createElement;this.$msgbox({showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancel",message:n(C.a),beforeClose:function(n,r,o){if("confirm"===n){var data=h()(r,"$slots.default[0].componentInstance.form");e.storeReason(t,data)}o()}})},storeReason:function(t,data){Object(f.a)("comments",t.hash_id,data),this.$emit("delete",this.comment)}}},O=(n(1340),n(0)),j=Object(O.a)(y,function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("el-dropdown",{staticClass:"comment-menu",attrs:{placement:"bottom-start",trigger:"click"}},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cursor-pointer",attrs:{title:"Show more actions"}},[r("i",{staticClass:"el-icon-more-outline",class:(t={},t["v-menu-icon--"+e.size]=!!e.size,t)})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.permissions.canEdit?r("el-dropdown-item",{nativeOn:{click:function(t){return e.$emit("edit")}}},[r("i",{staticClass:"fa fa-pencil pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" Edit\n        ")]):e._e(),e._v(" "),e.permissions.canReport?r("el-dropdown-item",{nativeOn:{click:function(t){return e.$emit("report")}}},[r("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" Report\n        ")]):e._e(),e._v(" "),e.permissions.canEdit||e.permissions.canDelete?r("el-dropdown-item",{nativeOn:{click:function(t){return e.confirmDelete(t)}}},[r("i",{staticClass:"fa fa-trash pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" Delete this comment\n        ")]):e._e(),e._v(" "),e.permissions.canConvertToAnswer?r("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(t){return e.confirmConvert(t)}}},[r("i",{staticClass:"fa fa-refresh pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" Convert to Answer\n        ")]):e._e(),e._v(" "),e.authenticated?r("el-dropdown-item",{attrs:{divided:!e.permissions.canConvertToAnswer},nativeOn:{click:function(t){return e.confirmHighlightingCode(t)}}},[r("i",{staticClass:"fa fa-magic pr-0 mr-05"}),e._v(" Highlighting code blocks\n        ")]):e._e()],1)],1)},[],!1,null,null,null).exports,x={components:{ShareTip:l.a,CommentVote:d.a,CommentMenu:j},props:{comment:Object,sendVote:Function,deleteComment:Function,admin:{type:Boolean,default:!1}},computed:Object(r.a)({},Object(o.e)("auth",["user"]),Object(o.c)("auth",["canRateComment","authenticated","isAdmin"]),{toComment:function(){return Object(c.a)(Object(c.d)(this.comment))}}),methods:{destroy:function(){return this.deleteComment(this.comment)}}},k=Object(O.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"d-flex text-muted"},[n("comment-vote",{attrs:{send:t.sendVote,score:t.comment.points,value:t.comment.rated_value,"is-own":t.comment.is_own,disabled:t.authenticated&&(t.comment.is_own||!t.canRateComment),rateable:{type:"Comment",id:t.comment.hash_id}}}),t._v(" "),n("span",{staticClass:"text-muted mx-05"},[t._v("|")]),t._v(" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"mr-05 cursor-pointer",attrs:{title:"Reply"},on:{click:function(e){return t.$emit("reply")}}},[n("span",[t._v("Reply")])]),t._v(" "),n("share-tip",{staticClass:"mr-05 cursor-pointer",attrs:{text:t.toComment,"sharing-id":"comment-"+t.comment.hash_id,label:"Share a link to this comment","sharing-title":"Comment on answer"}}),t._v(" "),n("comment-menu",{staticClass:"ml-05",attrs:{comment:t.comment,size:"small"},on:{edit:function(e){return t.$emit("edit")},report:function(e){return t.$emit("report")},delete:t.destroy}})],1)},[],!1,null,null,null);e.a=k.exports},1264:function(t,e,n){"use strict";var r=n(1159),o=n.n(r),c={props:{title:String,clipboardData:String},data:function(){return{$clipboard:null}},mounted:function(){this.$refs.clipboard&&(this.$clipboard=new o.a(this.$refs.clipboard))},destroyed:function(){this.$clipboard&&(this.$clipboard.destroy(),this.$clipboard=null)},methods:{onCopied:function(){var t=this;this.$refs.clipboard.setAttribute("area-tooltip-hidden",!1),setTimeout(function(){t.$refs.clipboard&&t.$refs.clipboard.setAttribute("area-tooltip-hidden",!0)},1e3)}}},l=n(0),component=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n    "+t._s(t.title)+" \n    "),n("span",{ref:"clipboard",staticClass:"viblo-tooltip cursor-pointer",attrs:{"data-clipboard-text":t.clipboardData,"area-label":"Copied!","area-tooltip-hidden":"true",title:"Copy link"},on:{click:function(e){return e.preventDefault(),t.onCopied(e)}}},[n("i",{staticClass:"fa fa-link"})]),t._v(" "),t._t("default")],2)},[],!1,null,null,null);e.a=component.exports},1266:function(t,e,n){"use strict";n(70);var r=n(168),map=n(49),o=n.n(map),c=n(82),l=n.n(c),d=n(154),m=n.n(d),h=n(1442),f=n.n(h),v=function(text,t){return"".concat(function(text){var t=f.a.remove(text).replace(/\s+/g,"-").replace(/[^0-9a-zA-Z_-]+/g,"").toLowerCase();return"_".concat(t)}(text),"-").concat(t)};var _={props:{target:{type:[Object,String],required:!0}},data:function(){return{current:null,items:[]}},computed:{scrollspy:function(){return{name:"current",offset:150,items:o()(this.items,"id")}}},mounted:function(){this.setUp();var t=l()(this.items,{id:this.$route.hash.slice(1)});t&&this.jumpTo(t.id)},methods:{setUp:function(){var t,e,n=this.target instanceof HTMLElement?this.target:document.querySelector(this.target),r=(t=n)?t.querySelectorAll("h1, h2, h3"):[];!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m()(t,function(element,t){var text=element.textContent,e=v(text,t);element.setAttribute("id",e)})}(r),this.items=(e=r,o()(e,function(t,e){var text=t.textContent;return{id:v(text,e),text:text,level:t.tagName.substr(1)}}))},jumpTo:function(t){window.history.replaceState(null,null,"#".concat(t)),Object(r.a)("#".concat(t),{duration:100,offset:-70})}}},w=(n(1314),n(0)),component=Object(w.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-index"},[t._m(0),t._v(" "),t.items.length>0?n("ul",{directives:[{name:"scrollspy",rawName:"v-scrollspy",value:t.scrollspy,expression:"scrollspy"}],staticClass:"content-outline list-unstyled"},t._l(t.items,function(e,r){return n("li",{key:r,staticClass:"content-outline__item",class:"content-outline__item--level-"+e.level},[0!==e.text.length?n("a",{staticClass:"link",class:{active:t.current===e.id},attrs:{href:"#"+e.id},on:{click:function(n){return n.preventDefault(),t.jumpTo(e.id)}}},[t._v(t._s(e.text))]):t._e()])}),0):n("el-alert",{attrs:{closable:!1,type:"info",title:""}},[t._v("\n        Have no Table of contents\n    ")])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-title-line"},[e("h4",{staticClass:"text-uppercase"},[this._v("\n            Table of contents\n        ")]),this._v(" "),e("hr",{staticClass:"filler-line"})])}],!1,null,null,null);e.a=component.exports},1267:function(t,e,n){"use strict";var r=n(15),o=n(1150),c=n(64),l=n(159),d={components:{Empty:c.a,Avatar:l.a},mixins:[o.a],props:{users:Array},methods:{profilePage:r.j}},m=(n(1284),n(0)),component=Object(m.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",t._g(t._b({staticClass:"users-dialog",attrs:{show:t.state.show,size:"small"},on:{"update:show":function(e){return t.$set(t.state,"show",e)}}},"v-dialog",t.$attrs,!1),t.$listeners),[0===t.users.length?n("Empty",[t._t("empty")],2):t._l(t.users,function(e){return n("div",{key:e.username,staticClass:"users-dialog__item"},[n("Avatar",{staticClass:"mr-05",attrs:{username:e.username,image:e.avatar,size:"sm"}}),t._v(" "),n("div",{staticClass:"users-dialog__item__name"},[n("nuxt-link",{staticClass:"link",attrs:{to:t.profilePage(e)}},[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"text-muted ml-05"},[t._v(t._s("@"+e.username))])])],1)],1)})],2)},[],!1,null,null,null);e.a=component.exports},1268:function(t,e,n){"use strict";n(41);var r={mixins:[n(1175).a],props:{ratedValue:[Number,String],score:[Number,String],disabled:Boolean,isOwn:Boolean},computed:{upClass:function(){return{voted:this.ratedValue>0,disabled:this.ratedValue<0}},downClass:function(){return{voted:this.ratedValue<0,disabled:this.ratedValue>0}}},methods:{vote:function(t){return!this.disabled&&this.handle(t)},disabledTitleOr:function(title){return this.isOwn?"You cannot vote your own content":title}}},o=(n(1517),n(0)),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"votes votes--side"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.right",modifiers:{right:!0}}],staticClass:"icon-btn vote",class:t.upClass,attrs:{title:t.disabledTitleOr("Upvote")},on:{click:function(e){return e.preventDefault(),t.vote("up")}}},[n("i",{staticClass:"fa fa-caret-up",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("div",{class:["points",0!=t.ratedValue&&null!=t.ratedValue?"text-primary text-bold":"text-muted"]},[t._v("\n        "+t._s(t._f("signed")(t.score))+"\n    ")]),t._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.right",modifiers:{right:!0}}],staticClass:"icon-btn vote",class:t.downClass,attrs:{title:t.disabledTitleOr("Downvote")},on:{click:function(e){return e.preventDefault(),t.vote("down")}}},[n("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})])])},[],!1,null,null,null);e.a=component.exports},1269:function(t,e,n){"use strict";n(1276);var r=n(0),component=Object(r.a)({},function(t,e){var n=e._c;return n("div",{staticClass:"section-title"},[e.props.link?n("nuxt-link",{attrs:{to:e.props.link}},[n("h4",{staticClass:"text-uppercase"},[e._v("\n            "+e._s(e.props.title)+"\n        ")])]):n("h4",{staticClass:"text-uppercase"},[e._v("\n        "+e._s(e.props.title)+"\n    ")]),e._v(" "),n("hr",{staticClass:"section-title__filler"})],1)},[],!0,null,null,null);e.a=component.exports},1270:function(t,e,n){"use strict";var r=n(295),o={functional:!0,props:{comment:Object},render:function(t,e){var n=e.props.comment,time=Object(r.b)(n.created_at),o=n.updated_at!==n.created_at?Object(r.b)(n.updated_at):null;return t("div",{class:"comment-meta word-break"},[t("span",{class:"text-muted"},[time]),null!==o?t("i",{directives:[{name:"tooltip",value:!0}],attrs:{title:"Edited ".concat(o)},class:"fa fa-pencil text-muted ml-05"}):null])}},c=n(0),component=Object(c.a)(o,void 0,void 0,!1,null,null,null);e.a=component.exports},1271:function(t,e,n){"use strict";var r=n(1179);n.n(r).a},1274:function(t,e,n){"use strict";var r=n(1180);n.n(r).a},1275:function(t,e,n){"use strict";var r=n(1181);n.n(r).a},1276:function(t,e,n){"use strict";var r=n(1182);n.n(r).a},1277:function(t,e,n){"use strict";var r=n(1183);n.n(r).a},1281:function(t,e,n){"use strict";var r=n(1189);n.n(r).a},1284:function(t,e,n){"use strict";var r=n(1192);n.n(r).a},1293:function(t,e,n){"use strict";var r=n(1195);n.n(r).a},1310:function(t,e,n){"use strict";var r=n(7),o=n.n(r),c=n(385);e.a=function(t,e){var time=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3;return{mounted:function(){var n=o()(this,e),r=c.c.bind(null,t,n);t===c.a.Post&&"draft"===o()(this,"post.status")||n&&(this.$_sendViewTimer=setTimeout(function(){return r().catch(function(){})},time))},destroyed:function(){this.$_sendViewTimer&&clearTimeout(this.$_sendViewTimer)}}}},1311:function(t,e,n){},1312:function(t,e,n){},1313:function(t,e,n){},1314:function(t,e,n){"use strict";var r=n(1198);n.n(r).a},1315:function(t,e,n){},1316:function(t,e,n){},1317:function(t,e,n){},1318:function(t,e,n){},1319:function(t,e,n){},1320:function(t,e,n){},1321:function(t,e,n){},1322:function(t,e,n){"use strict";var r=n(1199);n.n(r).a},1323:function(t,e,n){},1324:function(t,e,n){},1325:function(t,e,n){},1326:function(t,e,n){},1327:function(t,e,n){},1328:function(t,e,n){},1330:function(t,e,n){"use strict";var r=n(1200);n.n(r).a},1337:function(t,e,n){"use strict";var r=n(1202);n.n(r).a},1338:function(t,e,n){"use strict";var r=n(1203);n.n(r).a},1339:function(t,e,n){"use strict";var r=n(1204);n.n(r).a},1340:function(t,e,n){"use strict";var r=n(1205);n.n(r).a},1341:function(t,e,n){"use strict";var r=n(1206);n.n(r).a},1342:function(t,e,n){"use strict";var r=n(1207);n.n(r).a},1343:function(t,e,n){},1344:function(t,e,n){},1345:function(t,e,n){},1346:function(t,e,n){},1347:function(t,e,n){},1348:function(t,e,n){},1349:function(t,e,n){},1350:function(t,e,n){},1351:function(t,e,n){},1352:function(t,e,n){},1353:function(t,e,n){},1354:function(t,e,n){},1355:function(t,e,n){},1356:function(t,e,n){},1357:function(t,e,n){},1358:function(t,e,n){},1359:function(t,e,n){},1360:function(t,e,n){},1361:function(t,e,n){},1362:function(t,e,n){},1363:function(t,e,n){},1364:function(t,e,n){},1365:function(t,e,n){},1366:function(t,e,n){},1367:function(t,e,n){},1368:function(t,e,n){},1369:function(t,e,n){},1429:function(t,e,n){"use strict";n(88);var r=n(4),o=n(7),c=n.n(o),l=n(380),d=n.n(l),m=n(8),h=(n(41),{props:{organizationId:{type:Number,required:!0}},computed:Object(r.a)({},Object(m.e)({organization:function(t,e){return e["entities/organizations/get"](this.organizationId)}}))}),f=n(0),v={components:{OrganizationContainer:Object(f.a)(h,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"organization-container"},[this._t("default",null,{organization:this.organization})],2)},[],!1,null,null,null).exports},props:{store:{type:String,required:!0},storeKey:String},computed:Object(r.a)({},Object(m.e)({organizationIds:function(t){var e=this.store.split("/"),n=this.storeKey?this.storeKey.split("."):[];return c()(t,d()(e,n))}}))},_=Object(f.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-list-container"},t._l(t.organizationIds,function(e){return n("OrganizationContainer",{key:e,attrs:{"organization-id":e},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("default",null,null,e)]}}],null,!0)})}),1)},[],!1,null,null,null);e.a=_.exports},1430:function(t,e,n){"use strict";var r=n(4),o=(n(41),n(8)),c=n(1214),l=n(1172),d=n(1270),m=n(1262),h=n(1148),f=n(1176),v={components:{UserInline:h.a,CommentMeta:d.a,CommentForm:l.a,CommentFooter:m.a,ReportDialog:f.a},props:{commentId:{type:Number,required:!0},store:{type:String,required:!0}},data:function(){return{editing:!1}},computed:Object(r.a)({},Object(o.e)({comment:function(t,e){var n=e["".concat(this.store,"/get")](this.commentId),o=e["auth/userId"];return Object(r.a)({},n,{is_own:n.user_id===o})},user:function(t,e){return e["entities/users/get"](this.comment.user_id)}})),methods:Object(r.a)({},Object(o.b)({update:function(t,e){return t("".concat(this.store,"/update"),{id:this.comment.hash_id,values:e.data}).then(this.setEditing.bind(this,!1))},remove:function(t,e){return t("".concat(this.store,"/remove"),e)},vote:function(t,e){return t("".concat(this.store,"/vote"),{id:this.comment.id,value:e})},report:function(t,e){var form={id:this.comment.hash_id,values:e};t("".concat(this.store,"/report"),form)}}),{setEditing:function(t){this.editing=t}})},_=(n(1528),n(0)),w={components:{Comment:Object(_.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-item",attrs:{"data-commentid":t.comment.hash_id}},[n("header",{staticClass:"d-flex flex-wrap mb-05"},[n("UserInline",{attrs:{user:t.user}}),t._v(" "),n("span",{staticClass:"text-muted dot-separator"},[t._v("")]),t._v(" "),n("CommentMeta",{attrs:{comment:t.comment}})],1),t._v(" "),t.editing?n("CommentForm",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.comment.contents,"show-avatar":!1,name:"comment_contents","submit-text":"Save Comment"},on:{store:t.update,cancel:function(e){return t.setEditing(!1)}}}):[t.comment.deleted_at?[n("el-alert",{attrs:{closable:!1,"show-icon":!0,title:"This comment has been deleted",type:"info"}})]:[n("Markdown",{staticClass:"mb-05",attrs:{contents:t.comment.contents,renderer:"lite"}}),t._v(" "),n("CommentFooter",{attrs:{comment:t.comment,"send-vote":t.vote,"delete-comment":t.remove},on:{edit:function(e){return t.setEditing(!0)},report:function(){return t.$refs.reportDialog.open()},reply:function(e){return t.$listeners.reply(t.user.username)}}})]],t._v(" "),n("ReportDialog",{ref:"reportDialog",attrs:{"send-report":t.report}})],2)},[],!1,null,null,null).exports,CommentForm:l.a,ListTransition:c.a},props:{commentable:Object,thread:{type:[String,Number],default:"root"},store:{type:String,required:!0}},data:function(){return{formOpen:!1}},computed:Object(r.a)({},Object(o.c)("auth",["authenticated"]),Object(o.e)({commentIds:function(t,e){return e["".concat(this.store,"/thread")](this.thread)}})),methods:Object(r.a)({},Object(o.b)("auth",["showAuthDialog"]),Object(o.b)({addComment:function(t,e){return t("".concat(this.store,"/add"),{commentable:this.commentable,values:e.data}).then(this.setFormVisible.bind(this,!1))}}),{setFormVisible:function(t){this.authenticated?this.formOpen=t:this.showAuthDialog()},addReply:function(t){var e=this;this.setFormVisible(!0),this.$nextTick(function(){e.formOpen&&e.$refs.form.append("@".concat(t," "))})}})},C=Object(_.a)(w,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments flat"},[n("ListTransition",t._l(t.commentIds,function(e,r){return n("Comment",{key:r,attrs:{"comment-id":e,store:t.store},on:{reply:t.addReply}})}),1),t._v(" "),n("div",{staticClass:"comment-add mt-05"},[t.formOpen?t._e():n("a",{staticClass:"link plain text-muted",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setFormVisible(!0)}}},[t._v("\n            Add a comment\n        ")]),t._v(" "),t.formOpen?n("comment-form",{directives:[{name:"focus",rawName:"v-focus"}],ref:"form",attrs:{name:"comment_contents","submit-text":"Comment"},on:{store:t.addComment,cancel:function(e){return t.setFormVisible(!1)}}}):t._e()],1)],1)},[],!1,null,null,null);e.a=C.exports},1434:function(t,e,n){"use strict";var r=n(4),o=(n(41),n(7)),c=n.n(o),l=n(8),d=n(15),m=n(159),h=n(160),f={components:{Avatar:m.a,Subscribe:h.a},props:{userId:Number,className:[String,Array,Object]},computed:{user:function(){var t=c()(this.$store.state,"auth.user.id"),e=this.$store.getters["entities/users/get"](this.userId);return Object(r.a)({},e,{is_self:t===e.id})},profile:function(){return Object(d.j)(this.user)}},methods:Object(r.a)({},Object(l.b)("entities/users",["follow"]),{handleFollow:function(t){return this.follow({username:this.user.username,value:t})}})},v=(n(1530),n(0)),component=Object(v.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["content-author",t.className]},[n("Avatar",{staticClass:"mr-05",attrs:{image:t.user.avatar,username:t.user.username,size:"md"}}),t._v(" "),n("div",{staticClass:"mw-0"},[n("div",{staticClass:"text-bold author"},[n("div",{staticClass:"overflow-hidden flex-fix mr-05 text-primary"},[n("nuxt-link",{class:{"is-banned":t.user.banned_at},attrs:{to:t.profile}},[t._v("\n                    "+t._s(t.user.name)+"\n                ")])],1),t._v(" "),t.user.is_self?t._e():n("subscribe",{ref:"subscribe",attrs:{send:t.handleFollow,subscribable:{type:"User",id:t.user.username}}},[n("button",{staticClass:"btn btn-xs text-bold",class:t.user.following?"btn-primary":"btn-white",attrs:{disabled:t.user.banned_at},on:{click:function(e){return t.$refs.subscribe.handle(!t.user.following)}}},[t.user.following?n("span",[n("i",{staticClass:"fa fa-check"}),t._v(" Following")]):n("span",[n("i",{staticClass:"fa fa-user-plus"}),t._v(" Follow")])])])],1),t._v(" "),n("div",{staticClass:"text-muted"},[t._t("text")],2)])],1)},[],!1,null,null,null);e.a=component.exports},1437:function(t,e,n){"use strict";var r=n(4),o=n(8),c=n(1214),l=n(1172),d={components:{Thread:n(1246).default,CommentForm:l.a,ListTransition:c.a},props:{commentable:Object,store:{type:String,required:!0}},computed:Object(r.a)({},Object(o.c)("auth",["authenticated"]),Object(o.e)({rootComments:function(t,e){return e["".concat(this.store,"/thread")]("root")||[]}}),{noComments:function(){return 0===this.rootComments.length}}),methods:Object(r.a)({},Object(o.b)("auth",["showAuthDialog"]),Object(o.b)({addComment:function(t,e){return t("".concat(this.store,"/add"),{commentable:this.commentable,values:e.data}).then(this.$refs.form.reset)}}),{cancel:function(){this.$refs.form.reset()}})},m=(n(1342),n(0)),component=Object(m.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-threads"},[t.authenticated?n("CommentForm",{ref:"form",staticClass:"root-comment-form",attrs:{"show-cancel":!1,name:"comment_contents","submit-text":"Post Comment"},on:{store:t.addComment,cancel:t.cancel}}):t._e(),t._v(" "),t.authenticated?t.noComments?n("div",{staticClass:"card card-block text-sm-center"},[t._m(1)]):t._e():n("div",{staticClass:"card text-sm-center mb-1 cursor-pointer",on:{click:t.showAuthDialog}},[t._m(0)]),t._v(" "),n("ListTransition",t._l(t.rootComments,function(e,r){return n("Thread",{key:r,staticClass:"root",attrs:{commentable:t.commentable,thread:e,store:t.store}})}),1)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-body"},[e("span",{staticClass:"card-text text-muted"},[e("i",{staticClass:"fa fa-comment-o",attrs:{"aria-hidden":"true"}}),this._v("\n                Login to comment\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"card-text text-muted mt-05 mb-05"},[e("i",{staticClass:"fa fa-comment-o",attrs:{"aria-hidden":"true"}}),this._v("\n            No comments, yet.\n        ")])}],!1,null,null,null);e.a=component.exports},1439:function(t,e,n){"use strict";n(40);var r=n(18),o=function(t,e){return e.map(function(e,n){return t("v-tag",{key:n,attrs:{url:Object(r.l)(e,"questions")}},[e.name])})},c={functional:!0,props:{tags:Array},render:function(t,e){var n=e.props,data=e.data;return t("div",{class:["tags",data.class,data.staticClass]},[o(t,n.tags)])}},l=(n(1293),n(0)),component=Object(l.a)(c,void 0,void 0,!1,null,"22915418",null);e.a=component.exports},1506:function(t,e,n){"use strict";var r=n(1311);n.n(r).a},1507:function(t,e,n){"use strict";var r=n(1312);n.n(r).a},1508:function(t,e,n){"use strict";var r=n(1313);n.n(r).a},1509:function(t,e,n){"use strict";var r=n(1315);n.n(r).a},1510:function(t,e,n){"use strict";var r=n(1316);n.n(r).a},1511:function(t,e,n){"use strict";var r=n(1317);n.n(r).a},1512:function(t,e,n){"use strict";var r=n(1318);n.n(r).a},1513:function(t,e,n){"use strict";var r=n(1319);n.n(r).a},1514:function(t,e,n){"use strict";var r=n(1320);n.n(r).a},1515:function(t,e,n){"use strict";var r=n(1321);n.n(r).a},1516:function(t,e,n){"use strict";var r=n(1323);n.n(r).a},1517:function(t,e,n){"use strict";var r=n(1324);n.n(r).a},1518:function(t,e,n){"use strict";var r=n(1325);n.n(r).a},1519:function(t,e,n){"use strict";var r=n(1326);n.n(r).a},1520:function(t,e,n){"use strict";var r=n(1327);n.n(r).a},1521:function(t,e,n){"use strict";var r=n(1328);n.n(r).a},1523:function(t,e,n){t.exports=n.p+"img/cfed7d6.png"},1524:function(t,e,n){"use strict";var r=n(1343);n.n(r).a},1525:function(t,e,n){"use strict";var r=n(1344);n.n(r).a},1526:function(t,e,n){"use strict";var r=n(1345);n.n(r).a},1527:function(t,e,n){"use strict";var r=n(1346);n.n(r).a},1528:function(t,e,n){"use strict";var r=n(1347);n.n(r).a},1529:function(t,e,n){"use strict";var r=n(1348);n.n(r).a},1530:function(t,e,n){"use strict";var r=n(1349);n.n(r).a},1531:function(t,e,n){"use strict";var r=n(1350);n.n(r).a},1532:function(t,e,n){"use strict";var r=n(1351);n.n(r).a},1533:function(t,e,n){"use strict";var r=n(1352);n.n(r).a},1534:function(t,e,n){"use strict";var r=n(1353);n.n(r).a},1535:function(t,e,n){"use strict";var r=n(1354);n.n(r).a},1536:function(t,e,n){"use strict";var r=n(1355);n.n(r).a},1537:function(t,e,n){"use strict";var r=n(1356);n.n(r).a},1538:function(t,e,n){"use strict";var r=n(1357);n.n(r).a},1539:function(t,e,n){"use strict";var r=n(1358);n.n(r).a},1540:function(t,e,n){"use strict";var r=n(1359);n.n(r).a},1541:function(t,e,n){"use strict";var r=n(1360);n.n(r).a},1542:function(t,e,n){"use strict";var r=n(1361);n.n(r).a},1543:function(t,e,n){"use strict";var r=n(1362);n.n(r).a},1544:function(t,e,n){"use strict";var r=n(1363);n.n(r).a},1545:function(t,e,n){"use strict";var r=n(1364);n.n(r).a},1546:function(t,e,n){"use strict";var r=n(1365);n.n(r).a},1548:function(t,e,n){"use strict";var r=n(1366);n.n(r).a},1549:function(t,e,n){"use strict";var r=n(1367);n.n(r).a},1550:function(t,e,n){"use strict";var r=n(1368);n.n(r).a},1551:function(t,e,n){"use strict";var r=n(1369);n.n(r).a},1980:function(t,e,n){"use strict";n.r(e);n(70),n(10);var r=n(3),o=n(4),c=n(7),l=n.n(c),d=n(8),m=n(1147),h=n(385),f=n(1310),v=n(26),_=n(235),w=n(234),C=n(1505),y=n.n(C),O=function(t,e){var n=e.idleTimeout,r=void 0===n?60:n;y.a.stopTimer(t),y.a.initialize({currentPageName:t,idleTimeoutInSeconds:r})},j=function(t,e){return Object(_.b)(w.b,t._id,{read_time:y.a.getTimeOnPageInMilliseconds(e)})},x=function(t,e){var n=e.autoUpdate,r=e.page;return{log:t,destroy:function(){return this.removeAutoUpdate(),y.a.stopTimer(r),Promise.resolve()},save:function(){return j(t,r)},removeAutoUpdate:function(){n&&(clearInterval(n),n=null)}}},k=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n,r,o,c,l,d,m,h,f,v,C,y,k,$=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=$.length>0&&void 0!==$[0]?$[0]:{},n=e.postId,r=e.previousUrl,o=e.userId,c=$.length>1&&void 0!==$[1]?$[1]:{},l=c.idleTimeout,d=void 0===l?30:l,m=c.updateTimeout,h=void 0===m?10:m,f=(new Date).getTime(),v="post-view-log-".concat(f,"-").concat(n),O(v,{idleTimeout:d}),t.next=7,Object(_.a)(w.b,{user_id:o,post_id:n,previous_url:r,read_at:f});case 7:return C=t.sent,y=C.data.data,k=setInterval(function(){j(y,v).catch(function(){return clearInterval(k)})},1e3*h),t.abrupt("return",x(y,{page:v,autoUpdate:k}));case 11:case"end":return t.stop()}},t)})),$=n(9),S=n.n($),A=n(518),P=n.n(A),z={playerVersion:3,width:"100%",height:"100%"},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=S()({},z,e);return window.UZ.Player.init(t,n)},R=function(t){window&&l()(window,"UZ.Player")?t():P()("https://sdk.uiza.io/uizaplayer.js",function(e){if(e)throw new Error("Player could not be found.");t()})},E={props:{id:{type:String,required:!0}},watch:{id:function(t){this.loadVideoById(t)}},mounted:function(){this.loadVideoById(this.id)},methods:{loadVideoById:function(t){R(function(){return T(".uiza-player",{api:btoa("viblo.uiza.co"),appId:"c711f55aa48841f1a0cb7e91cf5816dc",entityId:t})})}}},I=E,D=n(0),component=Object(D.a)(I,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"uiza-player"})},[],!1,null,null,null),N=component.exports,V={components:{Uiza:N},props:{id:{type:String,required:!0}}},U=V,B=(n(1506),Object(D.a)(U,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video__player-container"},[e("div",{staticClass:"video__player mx-auto embed-responsive embed-responsive-16by9"},[e("uiza",{staticClass:"embed-responsive-item",attrs:{id:this.id}})],1)])},[],!1,null,null,null).exports),map=n(49),M=n.n(map),F=n(15),L=n(1178),H=n(1149),Q=n(1223),K={components:{Stats:L.a,Score:H.a,ReadingTime:Q.a},props:{post:Object,className:[String,Array,Object]},computed:{toPost:function(){return Object(F.f)(this.post)},toAuthorProfile:function(){return Object(F.j)(this.post.user.data)},stats:function(){return{views_count:this.post.views_count,clips_count:this.post.clips_count,comments_count:this.post.comments_count}}}},Y=(n(1507),{components:{PostCard:Object(D.a)(K,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"post-card",attrs:{shadow:""}},[n("div",{staticClass:"post-card__title text-dark word-break mb-05",staticStyle:{"-webkit-box-orient":"vertical"}},[n("nuxt-link",{staticClass:"link link--plain",attrs:{to:t.toPost,"aria-ctr-enable":t.post.id,title:t.post.title}},[t.post.is_video?n("span",[n("i",{staticClass:"fa fa-play-circle text-success",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),n("span",[t._v(t._s(t.post.title))])])],1),t._v(" "),n("div",{staticClass:"post-card__author"},[n("nuxt-link",{staticClass:"text-primary",attrs:{to:t.toAuthorProfile}},[t._v("\n            "+t._s(t.post.user.data.name)+"\n        ")])],1),t._v(" "),n("ReadingTime",{staticClass:"text-muted post-card__time",attrs:{"reading-time":t.post.reading_time}}),t._v(" "),n("div",{staticClass:"d-flex"},[n("stats",{staticClass:"mr-05",attrs:{stats:t.stats}}),t._v(" "),n("score",{attrs:{score:t.post.points,rated:t.post.rated_value}})],1)],1)},[],!1,null,null,null).exports},props:{title:{type:String,required:!0},name:{type:String,required:!0},postViewId:{type:String,default:""},posts:Array},computed:Object(o.a)({},Object(d.c)("auth",["userId"]),{relatedPostsId:function(){return M()(this.posts,"id")}})}),W=(n(1508),Object(D.a)(Y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.posts&&t.posts.length>0?n("v-ctr",{staticClass:"related-posts-widget",attrs:{name:t.name,"external-data":{post_view_id:t.postViewId,recommended_posts_id:t.relatedPostsId}}},[n("h3",{staticClass:"post-section-title"},[n("strong",[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"related-posts-box"},t._l(t.posts,function(t,e){return n("div",{key:e,staticClass:"item"},[n("post-card",{attrs:{post:t}})],1)}),0)]):t._e()},[],!1,null,null,null).exports),J=n(1266),G=n(1211),Z=n(18),X={props:{series:{type:Object,required:!0}},methods:{toPost:Z.i,toSeries:Z.k}},tt=(n(1509),Object(D.a)(X,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"series-sidebar"},[t._m(0),t._v(" "),n("div",{staticClass:"series-sidebar__posts"},[n("nuxt-link",{staticClass:"word-break cursor-pointer h3",attrs:{to:t.toSeries(t.series),title:"Series's name",tag:"div"}},[t._v("\n            "+t._s(t.series.title)+"\n        ")]),t._v(" "),t._l(t.series.posts.data,function(e,r){return n("nuxt-link",{key:e.slug,staticClass:"series-sidebar-post link pl-1",attrs:{to:t.toPost(e)}},[n("span",{staticClass:"series-sidebar__post-index mr-05"},[t._v(t._s(r+1)+".")]),t._v(" "),n("h4",{staticClass:"series-sidebar__post-title d-inline mb-0"},[t._v("\n                "+t._s(e.title)+"\n            ")]),t._v(" "),n("br")])})],2)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-title-line mt-2"},[e("div",{staticClass:"text-uppercase h4"},[this._v("\n            Series's Post\n        ")]),this._v(" "),e("hr",{staticClass:"filler-line"})])}],!1,null,null,null).exports),et=n(1252),st=n(1429),nt=n(1269),it={components:{ContentsTree:J.a,StickySidebar:G.a,SeriesSidebar:tt,OrganizationSidebar:et.a,OrganizationList:st.a,SectionTitle:nt.a},props:{post:Object,series:Object,wrapper:{type:String,default:".article-content__body"}},computed:Object(o.a)({},Object(d.e)("postView",["relatedOrganizations"]))},at=Object(D.a)(it,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sticky-sidebar",{staticClass:"post-sidebar"},[n("ContentsTree",{staticClass:"hidden-sm-down",attrs:{target:t.wrapper}}),t._v(" "),t.series?n("SeriesSidebar",{attrs:{series:t.series}}):t._e(),t._v(" "),n("br"),t._v(" "),null!==t.relatedOrganizations&&t.relatedOrganizations.length>0?n("div",{staticClass:"main-feed__sidebar__top-organizations mb-4"},[n("SectionTitle",{attrs:{title:"Suggested Organizations"}}),t._v(" "),n("OrganizationList",{attrs:{store:"postView/relatedOrganizations"},scopedSlots:t._u([{key:"default",fn:function(t){return n("OrganizationSidebar",{attrs:{organization:t.organization,stats:["posts","members","followers"]}})}}],null,!1,1280875318)})],1):t._e()],1)},[],!1,null,null,null).exports,ot=n(405),ct=n(1154),lt=n(153),ut=n(106),pt=n(164),mt=n(1217),ht=n(1176),ft=n(5),vt=n(492),bt=n(1170),gt=n(1150),_t={components:{TagsInput:n(381).a},mixins:[bt.a,gt.a],props:{post:{type:Object,required:!0}},data:function(){return{tags:null}},methods:Object(o.a)({},Object(d.d)("entities/posts",{updatePost:"put"}),{getTags:function(){return this.post.tags.data.map(function(t){return t.slug}).join(",")},updateTags:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.processRequest(vt.a)(this.post.slug,this.tags);case 3:e=t.sent,n=e.data,this.updatePost(Object(ft.a)({},this.post.id,{tags:{data:n}})),this.close(),t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(0),this.$message.error("Something went wrong while trying to update this post"),t.t0.response){t.next=14;break}throw t.t0;case 14:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}()})},wt=(n(1510),Object(D.a)(_t,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{staticClass:"post-moderation",attrs:{show:t.state.show,title:"Post Moderation"},on:{"update:show":function(e){return t.$set(t.state,"show",e)},open:function(e){t.tags=t.getTags()},close:function(e){t.tags=null}}},[n("TagsInput",{attrs:{limit:5,placeholder:"Please fill suitable tag for this post. Maximum 5 tags","popper-class":"post-moderation__tag-suggestion-popper"},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),t._v(" "),n("template",{slot:"footer"},[n("el-button",{attrs:{loading:t.state.processing,size:"medium"},on:{click:t.updateTags}},[t._v("\n            Save\n        ")])],1)],2)},[],!1,null,null,null).exports),Ct=n(12),yt=n(383),Ot=n(387),jt=n.n(Ot),xt=n(1264),kt={components:{InfiniteLoading:jt.a,AddPostItem:xt.a},mixins:[gt.a],data:function(){return{show:!1,allSeries:[],toSeries:null,pagination:null,finishLoad:!1}},computed:Object(o.a)({},Object(d.c)("postView",{currentPost:"post"}),Object(d.c)("auth",{authUserId:"userId"}),{isOwned:function(){return this.authUserId===this.currentPost.user_id}}),methods:Object(o.a)({},Object(d.b)("currentPost",["fetchPost","fetchProposals"]),{absoluteUrl:F.a,open:function(){this.$refs.infiniteLoading&&this.$refs.infiniteLoading.$emit("$InfiniteLoading:reset"),this.pagination=null,this.finishLoad=!1,this.allSeries=[],this.show=!0},close:function(){this.toSeries=null,this.show=!1},fetchSeries:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.pagination?this.pagination.current_page+1:1,t.next=3,Object(yt.d)({post_id:this.currentPost.id,page:n}).then(function(t){return t.data});case 3:r=t.sent,this.allSeries=[].concat(Object(Ct.a)(this.allSeries),Object(Ct.a)(r.data)),this.pagination=r.meta.pagination,this.pagination.current_page<this.pagination.total_pages?e.loaded():(this.finishLoad=!0,e.complete());case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),doAdd:function(){var t=this;null!==this.toSeries&&Object(yt.f)(this.currentPost.slug,this.toSeries).then(function(){t.close(),t.isOwned?(t.fetchPost(t.currentPost.slug,!0),t.$message.success("Add post to series successfully!")):t.$message.success("Your proposal has been sent. Please wait for owner's response!"),t.fetchProposals()}).catch(function(){t.close(),t.$message.error("There was a problem when adding this post to your series.")})},setToSeries:function(t){this.toSeries=t.meta.data.is_disabled?null:t.hash_id}})},$t=(n(1511),n(1512),Object(D.a)(kt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{staticClass:"modal-add-to-series modal-body-fit-screen",attrs:{show:t.show,title:"What series you want to add this post to?"},on:{"update:show":function(e){t.show=e},close:t.close}},[t.allSeries.length>0?n("ul",{staticClass:"list-group"},t._l(t.allSeries,function(e,r){return n("li",{key:e.id,staticClass:"list-group-item word-break",class:{active:e.hash_id==t.toSeries,disabled:e.meta.data.is_disabled},on:{click:function(n){return t.setToSeries(e)}}},[n("add-post-item",{attrs:{title:r+1+". "+e.title,"clipboard-data":t.absoluteUrl("/s/"+e.hash_id)}},[e.meta.data.message?n("small",[t._v("("+t._s(e.meta.data.message)+")")]):t._e()])],1)}),0):n("div",{staticClass:"text-center mt-1"},[t._v("\n        You don't have any series.\n        "),n("nuxt-link",{attrs:{to:"/publish/series"}},[t._v("\n            Create a new one!\n        ")])],1),t._v(" "),n("no-ssr",[n("InfiniteLoading",{directives:[{name:"show",rawName:"v-show",value:!t.finishLoad,expression:"!finishLoad"}],ref:"infiniteLoading",attrs:{distance:100,spinner:"spiral"},on:{infinite:t.fetchSeries}})],1),t._v(" "),n("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn btn-primary cursor-pointer",class:{disabled:null===t.toSeries},on:{click:t.doAdd}},[t._v("\n            "+t._s(t.isOwned?"Add":"Send proposal")+"\n        ")])])],1)},[],!1,null,"7ef225ec",null).exports),St=n(1221),At={components:{ReportDialog:ht.a,CollaboratorDialog:wt,AddToSeriesDialog:$t},props:{post:{type:Object,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",["hasRole","authenticated","isAdmin","isUser"]),{permissions:function(){var t=this.isAdmin,e=this.hasRole("collaborator"),n=this.hasRole("editor"),r=this.post.is_own,o=this.isUser(l()(this.post,"organization.data.user_id"));return{canEdit:r||t||o,canReport:!r,canMarkAsSpam:e||n||t,canModeration:e||t,canConvert:t}},editPage:function(){return this.post.video_id?"/videos/".concat(this.post.slug,"/edit"):"/posts/".concat(this.post.slug,"/edit")},isPublicPost:function(){return"public"===this.post.status}}),methods:Object(o.a)({},Object(d.b)("postView",["report"]),{confirmReview:function(){var t=this;this.$confirm("Do you want to mark this post as Spam?","Mark as spam").then(function(){return t.markReview()})},confirmNotSpam:function(){var t=this;this.$confirm("Are you sure this post is not a spam?","Report not spam").then(function(){return t.reportNotSpam()})},confirmDelete:function(){var t=this;this.post.is_own||!this.isAdmin?this.$confirm("Do you want to delete this post?","Delete this post").then(function(){return t.deletePost()}):this.openConfirmDelete(this.post)},confirmHighlightingCode:function(){var t=this;this.$confirm("Do you want to highlight code blocks in this post?","Highlighting code blocks").then(function(){return t.highlightCodeBlocks()})},confirmConvert:function(){var t=this;this.$confirm("Convert post to question, the post will be deleted when completed. Are you sure to continue?","Are you sure?").then(function(){return t.convertToQuestion()})},deletePost:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(lt.deletePost)(this.post.slug);case 3:return this.$message("Post has been deleted"),t.abrupt("return",this.$router.go(-1));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",this.$message.error("There was something wrong!"));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),markReview:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ut.g)(this.post.slug);case 3:return this.$message("Post has been marked as Spam. It's will be reviewed by administrator."),t.abrupt("return",this.$router.push("/"));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",this.$message.error("There was something wrong!"));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),reportNotSpam:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ut.i)(this.post.slug);case 3:this.$message.success("Post unmarked as spam."),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),this.$message.error("There was something wrong!");case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),highlightCodeBlocks:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(pt.f)("posts",this.post.slug);case 3:this.$message.success("Update highlighting code blocks successfully!"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),this.$message.error("There was something wrong!");case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),convertToQuestion:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ut.a)(this.post.slug).then(function(t){return t.data});case 3:e=t.sent,data=e.data,this.$message.success("The post is converted to question successfully."),this.$router.push("/q/".concat(data.hash_id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.$message.error("There was something wrong!");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),openConfirmDelete:function(t){var e=this,n=this.$createElement;this.$msgbox({showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancel",message:n(St.a),beforeClose:function(n,r,o){if("confirm"===n){var data=l()(r,"$slots.default[0].componentInstance.form");e.storeReason(t,data)}o()}})},storeReason:function(t,data){Object(mt.a)("posts",t.slug,data),this.deletePost()}})},Pt=(n(1513),Object(D.a)(At,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post__menu"},[n("el-dropdown",{attrs:{size:"medium",trigger:"click",placement:"bottom"}},[n("el-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-muted p-0",attrs:{title:"Show more actions",type:"text",icon:"post__menu__more el-icon-more-outline"}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.permissions.canEdit?n("el-dropdown-item",[n("nuxt-link",{staticClass:"link link--plain",attrs:{to:t.editPage}},[n("i",{staticClass:"fa fa-edit pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Edit\n                ")])],1):t._e(),t._v(" "),t.permissions.canReport?n("el-dropdown-item",{nativeOn:{click:function(e){return t.$refs.reportDialog.open()}}},[n("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Report\n            ")]):t._e(),t._v(" "),t.authenticated&&t.isPublicPost?n("el-dropdown-item",{nativeOn:{click:function(e){return t.$refs.addToSeriesDialog.open()}}},[n("i",{staticClass:"fa fa-plus-square-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v(" Add to my series\n            ")]):t._e(),t._v(" "),t.permissions.canConvert?n("el-dropdown-item",{nativeOn:{click:function(e){return t.confirmConvert(e)}}},[n("i",{staticClass:"fa fa-edit pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Convert to question\n            ")]):t._e(),t._v(" "),t.permissions.canEdit?n("el-dropdown-item",{nativeOn:{click:function(e){return t.confirmDelete(e)}}},[n("i",{staticClass:"fa fa-trash pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v(" Delete this post\n            ")]):t._e(),t._v(" "),t.permissions.canMarkAsSpam?["pending"!==t.post.moderation?n("el-dropdown-item",{attrs:{divided:t.permissions.canModeration||t.permissions.canMarkAsSpam},nativeOn:{click:function(e){return t.confirmReview(e)}}},[n("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Mark as spam\n                ")]):n("el-dropdown-item",{attrs:{divided:t.permissions.canModeration||t.permissions.canMarkAsSpam},nativeOn:{click:function(e){return t.confirmNotSpam(e)}}},[n("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Report not spam\n                ")])]:t._e(),t._v(" "),t.permissions.canModeration?[n("el-dropdown-item",{nativeOn:{click:function(e){return t.$refs.collaboratorDialog.open()}}},[n("i",{staticClass:"el-icon-edit pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Post Moderation\n                ")])]:t._e(),t._v(" "),t.authenticated?n("el-dropdown-item",{nativeOn:{click:function(e){return t.confirmHighlightingCode(e)}}},[n("i",{staticClass:"fa fa-magic pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Highlighting code blocks\n            ")]):t._e()],2)],1),t._v(" "),t.permissions.canReport?n("ReportDialog",{ref:"reportDialog",attrs:{"send-report":t.report}}):t._e(),t._v(" "),t.permissions.canModeration?n("CollaboratorDialog",{ref:"collaboratorDialog",attrs:{post:t.post}}):t._e(),t._v(" "),t.authenticated&&t.isPublicPost?n("AddToSeriesDialog",{ref:"addToSeriesDialog"}):t._e()],1)},[],!1,null,null,null).exports),qt=n(168),zt=n(19),Tt=n.n(zt),Rt=n(66),Et=n(1267),It=n(1212),Dt={components:{UserPopup:Et.a,OrganizationInlinePopover:It.a,ReadingTime:Q.a},props:{post:{type:Object,required:!0}},data:function(){return{clips:[]}},computed:{clipsDialogTitle:function(){return this.clips.length>0?"".concat(this.clips.length," people clipped"):null},hasOrganization:function(){return!Tt()(this.post.organization.data)}},methods:{scrollToComment:function(){document.querySelector(".post-comments")&&Object(qt.a)(".post-comments",{duration:500,offset:-70})},showClips:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.clips.length){t.next=6;break}return t.next=3,Object(Rt.d)("posts",this.post.slug);case 3:e=t.sent,n=e.data,this.clips=n.data;case 6:this.$refs.clipsDialog.open();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Nt=(n(1514),Object(D.a)(Dt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-meta d-flex flex-column flex-wrap align-items-sm-end"},[n("div",{staticClass:"text-muted"},["public"===t.post.status?[t._v("\n            Published "+t._s(t._f("humanize-time")(t.post.published_at))+"\n\n            "),t.hasOrganization?n("OrganizationInlinePopover",{attrs:{organization:t.post.organization.data}}):t._e(),t._v(" "),n("ReadingTime",{staticClass:"is-divide is-divide--fit",attrs:{"reading-time":t.post.reading_time}})]:"draft_public"===t.post.status?[n("i",{staticClass:"fa fa-eye-slash",attrs:{"aria-hidden":"true"}}),t._v(" Unlisted\n        ")]:"draft"===t.post.status?[t._m(0),t._v(" "),t.post.last_edited_at?n("span",[t._v("- Last edited "+t._s(t._f("humanize-time")(t.post.last_edited_at)))]):t._e()]:t._e()],2),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"post-meta__item mr-1",attrs:{title:"Views: "+t.post.views_count}},[n("i",{staticClass:"el-icon-view post-meta__icon",attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",[t._v(t._s(t._f("formatNumber")(t.post.views_count)))])]),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"post-meta__item mr-1",attrs:{title:"Scroll to Comments"}},[n("el-button",{attrs:{type:"text",icon:"fa fa-comments-o post-meta__icon"},on:{click:t.scrollToComment}},[t._v("\n                "+t._s(t._f("formatNumber")(t.post.comments_count))+"\n            ")])],1),t._v(" "),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"post-meta__item",attrs:{title:"Show all Clips"}},[n("el-button",{attrs:{type:"text",icon:"fa fa-paperclip post-meta__icon"},on:{click:t.showClips}},[t._v("\n                "+t._s(t._f("formatNumber")(t.post.clips_count))+"\n            ")])],1),t._v(" "),n("UserPopup",{ref:"clipsDialog",attrs:{users:t.clips,title:t.clipsDialogTitle}},[n("template",{slot:"empty"},[t._v("\n                No clip, yet.\n            ")])],2)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),this._v(" Draft\n            ")])}],!1,null,null,null).exports),Vt=n(1151),Ut=n(159),Bt={mixins:[bt.a],props:{following:Boolean,subscribable:Object,send:{type:Function,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",["authenticated"])),methods:Object(o.a)({},Object(d.b)("auth",["showAuthDialog"]),{handle:function(){return this.authenticated?this.sendSubscribe(!this.following):this.showAuthDialog()},sendSubscribe:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.processing){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.processRequest(this.send)(e);case 5:this.sendGaEvent(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(2),this.$message.error("Something went wrong. Please try again later."),t.t0.response){t.next=13;break}throw t.t0;case 13:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}(),sendGaEvent:function(){this.subscribable&&this.$ga.event({eventCategory:"Interaction",eventAction:"Subscribe ".concat(this.subscribable.type),eventLabel:this.subscribable.id})}})},Mt=Object(D.a)(Bt,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"subscribe"},[this._t("default",null,{subscribe:this.handle,processing:this.state.processing})],2)},[],!1,null,null,null).exports,Ft={components:{Avatar:Ut.a,Subscribe:Mt,Stats:Vt.a},props:{user:{type:Object,required:!0},post:{type:Object,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",{authUserId:"userId"}),{profile:function(){return Object(F.j)(this.user)},editProfile:function(){return"".concat("https://accounts.viblo.asia","/profile/personal")}}),methods:Object(o.a)({},Object(d.b)("entities/users",["follow"]),{handleFollow:function(t){return this.follow({username:this.user.username,value:t})}})},Lt=(n(1515),Object(D.a)(Ft,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-author"},[n("Avatar",{staticClass:"mr-05",attrs:{image:t.user.avatar,username:t.user.username,size:"lg"}}),t._v(" "),n("div",{staticClass:"post-author__info overflow-hidden mr-1"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"overflow-hidden flex-fix mr-05"},[n("nuxt-link",{staticClass:"text-bold post-author__name",class:{"is-banned":t.user.banned_at},attrs:{to:t.profile}},[t._v("\n                    "+t._s(t.user.name)+"\n                ")]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("@"+t._s(t.user.username))])],1),t._v(" "),t.user.id!==t.authUserId?n("Subscribe",{attrs:{send:t.handleFollow,following:t.user.following,subscribable:{type:"User",id:t.user.username}},scopedSlots:t._u([{key:"default",fn:function(e){return n("el-button",{attrs:{type:t.user.following?"primary":null,plain:!t.user.following,disabled:null!==t.user.banned_at,size:"mini-mini"},on:{click:e.subscribe}},[t._v("\n                    "+t._s(t.user.following?"Following":"Follow")+"\n                ")])}}],null,!1,983762786)}):n("a",{attrs:{href:t.editProfile,rel:"noopener",target:"_blank"}},[n("el-button",{attrs:{size:"mini-mini"}},[t._v("Edit")])],1)],1),t._v(" "),n("Stats",{attrs:{stats:[{name:"Reputations: "+t.user.reputation,icon:"fa fa-star",value:t.user.reputation},{name:"Followers: "+t.user.followers_count,icon:"fa fa-user-plus",value:t.user.followers_count},{name:"Posts: "+t.user.posts_count,icon:"fa fa-pencil",value:t.user.posts_count}]}})],1)],1)},[],!1,null,null,null).exports),Ht=n(1177),Qt={components:{PostMenu:Pt,PostSocial:Ht.a},props:{post:{type:Object,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",["authenticated"]))},Kt=Object(D.a)(Qt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"post-footer d-flex align-items-center justify-content-end"},[e("PostSocial",{staticClass:"mr-1",attrs:{url:this.post.canonical_url,title:this.post.title,tags:this.post.tags.data,orientation:"vertical",size:"medium"}}),this._v(" "),e("PostMenu",{attrs:{post:this.post}})],1)},[],!1,null,null,null).exports,Yt=n(1145),Wt=n.n(Yt),Jt={props:{post:{type:Object}},computed:Object(o.a)({},Object(d.e)("postView",{allProposalNews:"proposals"})),mounted:function(){this.fetchProposals()},methods:Object(o.a)({},Object(d.b)("postView",["fetchProposals","fetchPost"]),{message:function(t){return'User <a href="/u/'.concat(t.user_series.data.username,'">@').concat(t.user_series.data.username,'</a> want to add this post to his/her series <a href="').concat(t.series.data.cannonical_url,'">').concat(Wt()(t.series.data.title),"</a>")},doReject:function(t){var e=this;Object(yt.a)(t.id).then(function(){e.fetchProposals(),e.$message.success("Action successfully!")})},doApprove:function(t){var e=this;Object(yt.i)(t.id,{status:"approved"}).then(function(){e.fetchPost(e.post.slug,!0),e.fetchProposals(),e.$message.success("Action successfully!")})},doBlock:function(t){var e=this;Object(yt.i)(t.id,{status:"blocked"}).then(function(){e.fetchProposals(),e.$message.success("Action successfully!")})}})},Gt={components:{SeriesProposalNewsBar:Object(D.a)(Jt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-1"},[t.allProposalNews.length>0?n("p",[t._v("\n        Be careful! This post can only be added to one series only!\n    ")]):t._e(),t._v(" "),t._l(t.allProposalNews,function(e,r){return n("div",{key:r,staticClass:"mb-05 word-break-all"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("button",{staticClass:"btn btn-secondary",attrs:{id:"btnGroupDrop"+e.id}},[t._v("\n                Actions\n            ")]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){return t.doApprove(e)}}},[t._v("\n                    Approve\n                ")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){return t.doBlock(e)}}},[t._v("\n                    Block\n                ")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){return t.doReject(e)}}},[t._v("\n                    Reject\n                ")])],1)],1),t._v("\n        \n        "),t._v(" "),n("span",{staticClass:"word-break-all",domProps:{innerHTML:t._s(t.message(e))}})],1)})],2)},[],!1,null,null,null).exports,Markdown:ot.a,PostMenu:Pt,PostMeta:Nt,PostTags:ct.a,PostAuthor:Lt,PostFooter:Kt},props:{post:{type:Object,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",["isUser","authenticated"]),{isAuthor:function(){return this.isUser(this.post.user.data.id)},tags:function(){return{tags:this.post.tags.data,promoted:this.post.promoted,trending:this.post.trending}}})},Zt=(n(1516),Object(D.a)(Gt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"post-content"},[n("header",{staticClass:"mb-2"},[n("div",{staticClass:"d-sm-flex align-items-start mb-2"},[n("PostAuthor",{staticClass:"mb-2 mb-sm-0",attrs:{user:t.post.user.data,post:t.post}}),t._v(" "),n("PostMeta",{attrs:{post:t.post}})],1),t._v(" "),n("h1",{staticClass:"article-content__title"},[t._v("\n            "+t._s(t.post.title)+"\n        ")])]),t._v(" "),n("div",{staticClass:"d-md-flex align-items-top justify-content-between"},[n("PostTags",t._b({attrs:{size:"medium"}},"PostTags",t.tags,!1)),t._v(" "),n("PostMenu",{attrs:{post:t.post}})],1),t._v(" "),t.isAuthor?n("series-proposal-news-bar",{attrs:{post:t.post}}):t._e(),t._v(" "),"pending"===t.post.moderation?n("div",{staticClass:"notice-review-post"},[n("el-alert",{attrs:{closable:!1,type:"warning","show-icon":"",center:"",title:""}},[n("a",{staticClass:"link link--plain",attrs:{href:"https://viblo.asia/announcements/3Q75wk2B5Wb",target:"_blank",rel:"noopener",title:"Read more about it"}},[n("strong",[t._v("This post is marked as spam by our system.")])]),t._v("\n            So it can't be shown in homepage! Administrators will review as soon as possible.\n            If you have any problems, please send us your feedback.\n        ")])],1):t._e(),t._v(" "),n("Markdown",{staticClass:"article-content__body my-2 flex-fill",attrs:{contents:t.post.contents}}),t._v(" "),n("PostFooter",{staticClass:"mb-2",attrs:{post:t.post}})],1)},[],!1,null,null,null).exports),Xt=n(1268),te={mixins:[bt.a],computed:Object(o.a)({},Object(d.c)("postView",["post"])),methods:Object(o.a)({},Object(d.b)("postView",["markFeatured"]))},ee=(n(1518),Object(D.a)(te,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{directives:[{name:"tooltip",rawName:"v-tooltip.right",modifiers:{right:!0}}],staticClass:"post-actions__feature",attrs:{disabled:t.state.processing,type:t.post.promoted?"primary":"default",icon:t.post.promoted?"el-icon-star-on":"el-icon-star-off",circle:"",title:"Mark as Editors' choice"},on:{click:function(e){t.processRequest(t.markFeatured)(!t.post.promoted)}}})},[],!1,null,null,null).exports),se={components:{Subscribe:Mt},computed:Object(o.a)({},Object(d.c)("postView",["post"])),methods:Object(o.a)({},Object(d.b)("postView",["clip"]))},ne=(n(1519),Object(D.a)(se,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Subscribe",{staticClass:"mb-2",attrs:{following:t.post.clipped,send:t.clip},scopedSlots:t._u([{key:"default",fn:function(e){return n("el-button",{directives:[{name:"tooltip",rawName:"v-tooltip.right",modifiers:{right:!0}}],staticClass:"post-actions__clip",class:{clipped:t.post.clipped},attrs:{icon:"fa fa-paperclip",title:"Clip this post"},on:{click:e.subscribe}})}}])})},[],!1,null,"7647d65c",null).exports),ie={components:{Vote:Xt.a,PostSocial:Ht.a,StarButton:ee,BigClipButton:ne},props:{post:{type:Object,required:!0}},computed:Object(o.a)({},Object(d.c)("auth",["hasRole"]),{rateable:function(){return{type:"Post",id:this.post.slug}}}),methods:Object(o.a)({},Object(d.b)("postView",["vote","clip"]))},ae=(n(1520),{components:{PostContent:Zt,PostSidebar:at,PostActions:Object(D.a)(ie,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-actions d-flex flex-column align-items-center"},[n("Vote",{staticClass:"post-actions__vote mb-1",attrs:{rateable:t.rateable,score:t.post.points,"rated-value":t.post.rated_value,send:t.vote,"is-own":t.post.is_own,disabled:t.post.is_own}}),t._v(" "),n("BigClipButton"),t._v(" "),n("PostSocial",{staticClass:"mb-2",attrs:{url:t.post.canonical_url,title:t.post.title,tags:t.post.tags.data,orientation:"horizontal",size:"small"}}),t._v(" "),t.hasRole("editor")?n("StarButton"):t._e()],1)},[],!1,null,null,null).exports},props:{post:{type:Object,required:!0},series:Object}}),re=(n(1521),Object(D.a)(ae,function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"post-body position-relative"},[e("v-row",[e("v-col",{staticClass:"p-0 hidden-md-down",attrs:{lg:1}},[e("PostActions",{staticClass:"mx-auto",attrs:{post:this.post}})],1),this._v(" "),e("v-col",{staticClass:"post-body__main",attrs:{lg:10,xl:8}},[e("PostContent",{attrs:{post:this.post}})],1),this._v(" "),e("v-col",{staticClass:"post-body__right hidden-lg-down",attrs:{xl:3}},[e("PostSidebar",{staticClass:"post-body__sidebar",attrs:{post:this.post,series:this.series}})],1)],1)],1)},[],!1,null,null,null).exports),oe=n(1443),ce=n.n(oe),le=n(11),ue={components:{CommentsThread:n(1437).a},computed:Object(o.a)({},Object(d.e)("postView",{loading:function(t){return t.comments.loading},commentable:function(t){return{type:le.CommentableType.Post,hashId:t.post.slug,id:t.post.id}}}),Object(d.e)({participatingUsers:function(t,e){var n=[t.postView.post.user_id].concat(Object(Ct.a)(M()(t.postView.comments.byId,"user_id")));return e["entities/users/mapId"](ce()(n))}})),provide:function(){var t=this;return{localMentions:function(){return t.participatingUsers}}},methods:{sendGaEvent:function(){var t=l()(this.post,"organization.data.google_analytics_id"),e={eventCategory:"Interaction",eventAction:"Comment post",eventLabel:this.post};this.$ga.event(e),this.$ga.tracker(t,"organization").event(e)}}},de=Object(D.a)(ue,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"post-comments"},[this._m(0),this._v(" "),this.loading?e("div",{staticClass:"text-center text-muted"},[e("i",{staticClass:"fa fa-circle-o-notch fa-spin",attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",[this._v(" Loading comments...")])]):e("comments-thread",{directives:[{name:"jump-to-route-hash",rawName:"v-jump-to-route-hash"}],attrs:{commentable:this.commentable,store:"postView/comments"}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"mb-2"},[e("strong",[this._v("Comments")])])}],!1,null,null,null).exports,pe=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(1523),alt:"Viblo"}})])}],me=(n(41),{props:{visible:{type:Boolean},duration:{type:Number,default:3e4}},data:function(){return{show:!1}},watch:{visible:function(t){var e=this;this.show=t,setTimeout(function(){e.show=!1},this.duration)}}}),he=(n(1524),Object(D.a)(me,function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"fixed-bottom-bar d-none d-lg-block"},[e("div",{staticClass:"wrapper"},[this._m(0),this._v(" "),e("div",{staticClass:"content d-flex justify-content-between ml-1"},[this._t("default")],2)])]):this._e()},pe,!1,null,null,null).exports),fe={mixins:[n(1175).a],props:{value:[Number,String]},methods:{vote:function(t){return this.handle(t)},status:function(t){switch(t){case"up":return{voted:this.value>0,disabled:this.value<0};case"down":return{voted:this.value<0,disabled:this.value>0};default:return null}}}},ve=(n(1525),Object(D.a)(fe,function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default",null,{vote:this.vote,status:this.status})],2)},[],!1,null,"3cb43244",null).exports),be={components:{PostSocial:Ht.a,Vote:ve,Subscribe:Mt},computed:Object(o.a)({},Object(d.c)("postView",["post"])),methods:Object(o.a)({},Object(d.b)("postView",["clip","vote"]))},ge=(n(1526),Object(D.a)(be,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-bottom-bar"},[n("Vote",{staticClass:"ratings",attrs:{send:t.vote,value:t.post.rated_value,rateable:{type:"Post",id:t.post.slug}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{staticClass:"vote",class:e.status("up"),on:{click:function(t){return t.preventDefault(),e.vote("up")}}},[n("i",{class:"fa fa-arrow-up",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("div",{staticClass:"points"},[t._v("\n                "+t._s(t._f("signed")(t.post.points))+"\n            ")]),t._v(" "),n("a",{staticClass:"vote",class:e.status("down"),on:{click:function(t){return t.preventDefault(),e.vote("down")}}},[n("i",{class:"fa fa-arrow-down",attrs:{"aria-hidden":"true"}})])]}}])}),t._v(" "),n("PostSocial",{staticClass:"sharings d-flex align-items-center",attrs:{url:t.post.canonical_url,title:t.post.title,tags:t.post.tags.data},scopedSlots:t._u([{key:"default",fn:function(e){return[n("Subscribe",{attrs:{following:t.post.clipped,send:t.clip},scopedSlots:t._u([{key:"default",fn:function(e){return n("el-button",{staticClass:"sharing-item clip p-0",class:{clipped:t.post.clipped},attrs:{type:"text",icon:"fa fa-paperclip"},on:{click:e.subscribe}})}}],null,!0)}),t._v(" "),n("span",{staticClass:"text-muted hidden-lg-up"},[t._v("")]),t._v(" "),n("a",{staticClass:"sharing-item",attrs:{href:e.facebook}},[n("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("")]),t._v(" "),n("a",{staticClass:"sharing-item",attrs:{href:e.twitter}},[n("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("")]),t._v(" "),n("a",{staticClass:"sharing-item",attrs:{href:e.google}},[n("i",{staticClass:"fa fa-google-plus",attrs:{"aria-hidden":"true"}})])]}}])})],1)},[],!1,null,"56f73736",null).exports),_e={name:"PostView",components:{MainBanner:n(1173).a,Video:B,PostBody:re,Related:W,Comments:de,BottomBar:ge,FixedBottomBar:he},mixins:[Object(f.a)(h.a.Post,"post.slug",1e4)],data:function(){return{fixedBottomBarVisible:!1}},computed:Object(o.a)({},Object(d.c)("notifications",["withUnreadCount"]),Object(d.e)({banner:function(t){return l()(t,"config.banner",{})}}),Object(d.c)("auth",{authUserId:"userId"}),Object(d.c)("auth",["authenticated"]),Object(d.c)("postView",["post"]),Object(d.e)("postView",["video","related","series"]),Object(d.e)("pageHistory",{previousPage:"previous"}),{postViewId:function(){return l()(this.$_readingBehaviorTracking,"log._id")}}),asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,t.next=3,n.dispatch("organizationsUser/getOrganizations");case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),head:function(){var t=this.post.video_id?Object(m.f)(this.post):Object(m.b)(this.post);return Object(o.a)({},t,{title:this.withUnreadCount(t.title)})},fetch:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,o,c,l,d,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,r=e.params,o=e.error,t.prev=1,c=Object(v.c)(r.post),l=c.hashId,t.next=5,n.dispatch("postView/fetchPost",l);case 5:d=t.sent,m=d&&!!d.video,n.dispatch("config/changeBanner",{isVideoPage:m}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Object(v.d)(o,t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}(),beforeMount:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},analytics:{autoTrack:!1},mounted:function(){this.replaceRouteSlug(this.post)||this.onLanded(this.post)},destroyed:function(){this.destroyTracking()},methods:Object(o.a)({},Object(d.b)("postView",["getRelated","getSeries","getRelatedOrganizations"]),Object(d.b)("postView/comments",{fetchComments:"fetch"}),Object(d.b)("auth",["showAuthDialog"]),{onLanded:function(t){try{this.$ga.ready(function(e){e.page({title:t.title,page:"/posts/".concat(t.slug),location:window.location.href,dimension1:"posts.view"})}),this.trackReadingBehavior(t),this.fetchComments(t.slug),"public"===t.status&&this.getRelated(),t.tags&&this.getRelatedOrganizations(),t.series_id&&this.getSeries()}catch(t){Object(v.d)(t)}},replaceRouteSlug:function(t){var e=Object(v.c)(this.$route.params.post),n=e.slug,r=e.hashId;if(t&&n!==t.transliterated){var path="/p/".concat(t.transliterated,"-").concat(r).concat(this.$route.hash);return this.$router.replace(path),!0}return!1},trackReadingBehavior:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var data,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return data={postId:e.id,userId:this.authUserId},this.previousPage&&(data.previousUrl=this.previousPage.fullPath),t.next=4,k(data).catch(function(){n.destroyTracking()});case 4:this.$_readingBehaviorTracking=t.sent;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),destroyTracking:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$_readingBehaviorTracking){t.next=4;break}return t.next=3,this.$_readingBehaviorTracking.destroy();case 3:this.$_readingBehaviorTracking=t.sent;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleScroll:function(){this.fixedBottomBarVisible||(this.fixedBottomBarVisible=!0)}})},we=(n(1527),Object(D.a)(_e,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.post?n("div",[n("MainBanner"),t._v(" "),t.video?n("Video",{attrs:{id:t.video.uiza_id}}):t._e(),t._v(" "),n("PostBody",{attrs:{post:t.post,series:t.series}}),t._v(" "),n("no-ssr",[t.post?n("div",{staticClass:"bg-light"},[n("div",{staticClass:"container py-2"},[t.related?n("div",{staticClass:"post-section"},[t.related.sameContentPosts?n("Related",{staticClass:"pb-2",attrs:{posts:t.related.sameContentPosts.data,"post-view-id":t.postViewId,title:"Related",name:"Posts related from content"}}):t._e(),t._v(" "),t.related.sameContentPosts&&0!=t.related.sameContentPosts.data.length?t._e():n("Related",{staticClass:"pb-2",attrs:{posts:t.related.sameTags.data,"post-view-id":t.postViewId,title:"Related",name:"Posts related from tags"}}),t._v(" "),n("Related",{staticClass:"pb-2",attrs:{title:"More from "+t.post.user.data.name,posts:t.related.sameAuthor.data,"post-view-id":t.postViewId,name:"Post related from author"}})],1):t._e(),t._v(" "),n("Comments")],1)]):t._e(),t._v(" "),n("BottomBar",{staticClass:"fixed-bottom hidden-lg-up"}),t._v(" "),t.authenticated?t._e():n("FixedBottomBar",{attrs:{visible:t.fixedBottomBarVisible}},[n("div",{staticClass:"float-left"},[n("span",{staticClass:"title"},[t._v("Welcome to Viblo!")]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text"},[t._v("\n                    Let "),n("a",{staticClass:"text-primary cursor-pointer",on:{click:t.showAuthDialog}},[n("strong",[t._v("register a Viblo Account")])]),t._v("\n                    to get more interesting Posts from\n                    "),n("nuxt-link",{attrs:{to:"/u/"+t.post.user.data.username}},[n("strong",[t._v(t._s(t.post.user.data.name))])]),t._v("!\n                ")],1)]),t._v(" "),n("div",{staticClass:"float-right d-flex align-items-center"},[n("el-button",{staticClass:"text-capitalize",attrs:{type:"primary"},on:{click:t.showAuthDialog}},[t._v("\n                    Join us\n                ")])],1)])],1)],1):t._e()},[],!1,null,null,null));e.default=we.exports},1981:function(t,e,n){"use strict";n.r(e);n(70),n(10);var r=n(3),o=n(12),c=n(4),map=n(49),l=n.n(map),d=n(1443),m=n.n(d),h=n(385),f=n(1147),v=n(1310),_=n(8),w=n(589),C=n(26),y=n(11),O=n(1430),j=n(18),x=n(1220),k=n(295),$={functional:!0,render:function(t,e){var n=e.props.question;return t("div",{class:"question-meta text-muted"},[t("span",{directives:[{name:"tooltip",value:!0}],attrs:{title:Object(k.a)(n.created_at)}},["Asked ",Object(k.b)(n.created_at)]),t("span",{class:"mx-05"},[""]),t("span",{class:"stats-item mr-05",attrs:{title:"Views"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-eye",attrs:{"aria-hidden":"true"}})," ",n.views_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Clips"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-paperclip",attrs:{"aria-hidden":"true"}})," ",n.clips_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Answers"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-reply",attrs:{"aria-hidden":"true"}})," ",n.answers_count])])}},S=n(0),A=Object(S.a)($,void 0,void 0,!1,null,null,null).exports,P=n(1439),z={props:{question:{type:Object,required:!0}}},T=(n(1529),Object(S.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"question-right-menu mb-0"},[n("li",{staticClass:"hidden-lg-up text-muted"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"stats-item mr-05",attrs:{title:"Views"}},[n("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.question.views_count)+"\n        ")]),t._v(" "),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"stats-item mx-05",attrs:{title:"Clips"}},[n("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.question.clips_count)+"\n        ")]),t._v(" "),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"stats-item mx-05 mr-1",attrs:{title:"Answers"}},[n("i",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.question.answers_count)+"\n        ")])])])},[],!1,null,null,null).exports),R=n(1434),E=n(1268),I=n(160),D=n(61),N=n(164),V=n(1217),U=n(7),B=n.n(U),M=n(1176),F=(n(40),n(298),n(299),n(1170)),L=n(1150),H={components:{TagsInput:n(381).a},mixins:[F.a,L.a],props:{question:{type:Object,required:!0}},data:function(){return{show:"",nameTag:""}},computed:{getTags:function(){return l()(this.question.tags.data,function(t){return t.name}).toString()||""}},created:function(){this.nameTag=this.getTags},methods:{updateTags:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.data=this.nameTag,t.next=4,this.$store.dispatch("questionView/updateTags",{id:this.question.id,data:this.data}).then(function(){e.close()});case 4:t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(0),this.$message.error("Something went wrong while trying to update this question"),t.t0.response){t.next=11;break}throw t.t0;case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()}},Q=(n(1531),Object(S.a)(H,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{staticClass:"question-moderation",attrs:{show:t.state.show,title:"Question Moderation"},on:{"update:show":function(e){return t.$set(t.state,"show",e)},open:function(e){t.show=!0},close:function(e){t.show=!1}}},[n("TagsInput",{attrs:{limit:5,placeholder:"Please fill suitable tag for this question. Maximum 5 tags","popper-class":"question-moderation__tag-suggestion-popper"},model:{value:t.nameTag,callback:function(e){t.nameTag=e},expression:"nameTag"}}),t._v(" "),n("template",{slot:"footer"},[n("el-button",{attrs:{loading:t.state.processing,size:"medium"},on:{click:t.updateTags}},[t._v("\n            Save\n        ")])],1)],2)},[],!1,null,null,null).exports),K=n(394),Y=n.n(K),W=n(393),J=n(388),G={components:{},mixins:[F.a,L.a],props:{question:{type:Object,required:!0}},data:function(){return{availableUsers:[],sending:!1,loading:!1,form:{user:""}}},computed:Object(c.a)({},Object(_.e)("auth",{authUser:"user"})),methods:{fetchSuggestions:function(t){var e=this;return Y()(Object(r.a)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=14;break}return n.prev=1,e.loading=!0,n.next=5,Object(W.search)("users?q=".concat(t)).then(function(t){return t.data});case 5:e.availableUsers=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Object(C.a)(e.$message.error,n.t0);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}},n,null,[[1,8,11,14]])})),300)},canNotRequestTo:function(t){return t.username===this.authUser.username||t.username===this.question.user.data.username},confirmRequestAnswer:function(){var t=this;this.$confirm('Are you sure? Send an answer request to user "@'.concat(this.form.user,'".'),"Confirm Send Request").then(function(){return t.sendRequest()})},sendRequest:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.processing=!0,t.next=4,Object(J.e)(this.form.user,this.question.hash_id);case 4:this.$message.success('Request has been sent to "@'.concat(this.form.user,'".')),this.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(C.a)(this.$message.error,t.t0);case 11:return t.prev=11,this.processing=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,8,11,14]])}));return function(){return t.apply(this,arguments)}}()}},Z=(n(1532),Object(S.a)(G,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{show:t.state.show,title:"Request Answer"},on:{"update:show":function(e){return t.$set(t.state,"show",e)},close:function(e){t.form.user=""}}},[n("p",[t._v("\n        Please search and select recipient who you want to send an answer request for question\n        "),n("strong",[t._v(t._s(t.question.title))]),t._v(":\n    ")]),t._v(" "),n("el-form",{attrs:{model:t.form}},[n("el-form-item",{staticClass:"mb-0",attrs:{prop:"user"}},[n("el-select",{staticClass:"full-width",attrs:{"remote-method":function(e){return t.fetchSuggestions(e)()},loading:t.loading,remote:"",filterable:"","reserve-keyword":"",placeholder:"Search recipient for question"},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}},t._l(t.availableUsers,function(e){return n("el-option",{key:e.username,attrs:{disabled:t.canNotRequestTo(e),label:e.name+" @"+e.username,value:e.username}})}),1)],1),t._v(" "),n("el-form-item",{staticClass:"mb-0"},[n("small",{staticClass:"text-muted"},[n("i",{staticClass:"fa fa-warning"}),t._v(" Note: You only can send 3 answer requests per day.\n            ")])])],1),t._v(" "),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"medium"},on:{click:t.close}},[t._v("\n            Cancel\n        ")]),t._v(" "),n("el-button",{attrs:{loading:t.sending,disabled:!t.form.user,type:"primary",size:"medium"},on:{click:t.confirmRequestAnswer}},[n("i",{staticClass:"fa fa-send"}),t._v(" Send\n        ")])],1)],2)},[],!1,null,null,null).exports),X=n(1221),tt={components:{ReportDialog:M.a,QuestionDialog:Q,RequestAnswerDialog:Z},props:{question:{type:Object,required:!0}},computed:Object(c.a)({},Object(_.c)("auth",["hasRole","isAdmin","authenticated"]),{permissions:function(){var t=this.isAdmin,e=this.question.is_own;return{canEdit:e||t,canReport:!e,canModeration:this.hasRole("collaborator")||t}},editPage:function(){return"/questions/".concat(this.question.hash_id,"/edit")}}),methods:Object(c.a)({},Object(_.b)("questionView",["report"]),{confirmDelete:function(){var t=this;this.question.is_own||!this.isAdmin?this.$confirm("Do you want to delete this question?","Delete this question").then(function(){return t.deleteQuestion()}):this.openConfirmDelete(this.question)},confirmHighlightingCode:function(){var t=this;this.$confirm("Do you want to highlight code blocks in this answer?","Highlighting code blocks").then(function(){return t.highlightCodeBlocks()})},deleteQuestion:function(){var t=this;return Object(D.deleteQuestion)(this.question.hash_id).then(function(){t.$message.success("Question has been deleted successfully!"),t.$router.push("/questions")}).catch(Object(C.a)(this.$message.error))},highlightCodeBlocks:function(){var t=this;return Object(N.f)("questions",this.question.hash_id).then(function(){return t.$message.success("Success! It maybe take a few minutes to complete.")}).catch(Object(C.a)(this.$message.error))},openConfirmDelete:function(t){var e=this,n=this.$createElement;this.$msgbox({showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancel",message:n(X.a),beforeClose:function(n,r,o){if("confirm"===n){var data=B()(r,"$slots.default[0].componentInstance.form");e.storeReason(t,data)}o()}})},storeReason:function(t,data){Object(V.a)("questions",t.hash_id,data),this.deleteQuestion()}})},et=(n(1533),Object(S.a)(tt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question__menu"},[n("el-dropdown",{attrs:{size:"medium",trigger:"click",placement:"bottom"}},[n("el-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-muted p-0",attrs:{type:"text",title:"Show more actions",icon:"question__menu__more el-icon-more-outline"}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.permissions.canEdit?n("el-dropdown-item",[n("nuxt-link",{staticClass:"link link--plain",attrs:{to:t.editPage}},[n("i",{staticClass:"fa fa-edit pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Edit\n                ")])],1):t._e(),t._v(" "),t.permissions.canReport?n("el-dropdown-item",{nativeOn:{click:function(e){return t.$refs.reportDialog.open()}}},[n("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Report\n            ")]):t._e(),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.$refs.requestAnswerDialog.open()}}},[n("i",{staticClass:"fa fa-send pr-0 mr-05"}),t._v("Request answer\n            ")]),t._v(" "),t.permissions.canEdit?n("el-dropdown-item",{nativeOn:{click:function(e){return t.confirmDelete(e)}}},[n("i",{staticClass:"fa fa-trash pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v(" Delete this question\n            ")]):t._e(),t._v(" "),t.permissions.canModeration?n("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(e){return t.$refs.collaboratorDialog.open()}}},[n("i",{staticClass:"el-icon-edit pr-0 mr-05",attrs:{"aria-hidden":"true"}}),t._v("Question moderation\n            ")]):t._e(),t._v(" "),t.authenticated?n("el-dropdown-item",{nativeOn:{click:function(e){return t.confirmHighlightingCode(e)}}},[n("i",{staticClass:"fa fa-magic pr-0 mr-05"}),t._v("Highlighting code blocks\n            ")]):t._e()],1)],1),t._v(" "),t.permissions.canReport?n("ReportDialog",{ref:"reportDialog",attrs:{"send-report":t.report}}):t._e(),t._v(" "),t.permissions.canModeration?n("QuestionDialog",{ref:"collaboratorDialog",attrs:{question:t.question}}):t._e(),t._v(" "),n("RequestAnswerDialog",{ref:"requestAnswerDialog",attrs:{question:t.question}})],1)},[],!1,null,null,null).exports),st={components:{Tags:P.a,Vote:E.a,Author:R.a,ActionBar:T,QuestionMeta:A,Subscribe:I.a,ShareTip:x.a,QuestionMenu:et},props:{question:{type:Object,required:!0}},inject:["actions"],computed:Object(c.a)({},Object(_.c)("auth",["isAdmin","authenticated"]),{user:function(){return this.question.user.data},toQuestion:function(){return Object(j.a)(Object(j.j)(this.question))}})},nt=(n(1534),Object(S.a)(st,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-content-wrapper"},[n("Author",{attrs:{"user-id":t.question.user_id,"class-name":"hidden-lg-up"}},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{slot:"text",title:t._f("formatTime")(t.question.created_at)},slot:"text"},[t._v("\n            Asked "+t._s(t._f("humanizeTime")(t.question.created_at))+"\n        ")])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between hidden-md-down"},[n("question-meta",{attrs:{question:t.question}}),t._v(" "),n("action-bar",{attrs:{question:t.question,"is-admin":t.isAdmin}})],1),t._v(" "),n("div",{staticClass:"my-05 d-flex align-items-center"},[n("vote",{attrs:{rateable:{type:"Question",id:t.question.hash_id},score:t.question.points,"rated-value":t.question.rated_value,send:t.actions.voteQuestion,"is-own":t.question.is_own,disabled:t.question.is_own}}),t._v(" "),n("header",{staticClass:"summary"},[n("h1",{staticClass:"title word-break"},[t._v("\n                "+t._s(t.question.title)+"\n            ")]),t._v(" "),n("div",{staticClass:"d-md-flex align-items-top justify-content-between"},[n("tags",{attrs:{tags:t.question.tags.data,"class-name":"my-0"}}),t._v(" "),n("question-menu",{attrs:{question:t.question}})],1),t._v(" "),n("div",{staticClass:"d-flex hidden-lg-up flex-wrap"},[n("subscribe",{ref:"subscribe",attrs:{send:t.actions.clip,subscribable:{type:"Question",id:t.question.hash_id},"class-name":["btn-md-clipping link plain",{"sm-clipped":t.question.clipped}]}},[n("span",{on:{click:function(e){return t.$refs.subscribe.handle(!t.question.clipped)}}},[t._v("\n                        "+t._s(t.question.clipped?"unclip":"clip")+"\n                        "),n("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}})])]),t._v(" "),n("share-tip",{staticClass:"ml-1 mr-05",attrs:{"sharing-id":"question-"+t.question.hash_id,text:t.toQuestion,title:t.question.title,label:"Share a link to question"}}),t._v(" "),n("div",{staticClass:"d-block ml-auto"},[n("action-bar",{attrs:{question:t.question}})],1)],1)])],1),t._v(" "),n("Markdown",{staticClass:"mt-md-1",attrs:{contents:t.question.contents}})],1)},[],!1,null,null,null).exports),it=n(1250),at=n(1222),ot=n(1171),ct=n(1177),lt={components:{UserItem:it.a,UserSidebarCard:at.a,Subscribe:I.a,QuestionSocial:ct.a,Subscribers:ot.a},props:{question:Object,wrapper:{type:String,default:".question-content"}},inject:["actions"],computed:Object(c.a)({},Object(_.e)("questionView",["subscribers"]))},ut=Object(S.a)(lt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-sidebar d-flex"},[n("div",{staticClass:"sidebar-content"},[n("UserItem",{attrs:{"user-id":t.question.user_id},scopedSlots:t._u([{key:"default",fn:function(t){return n("UserSidebarCard",{attrs:{user:t.user,follow:t.userAction("follow"),stats:["reputation","followers","questions","answers"]}})}}])}),t._v(" "),t.question?n("div",{staticClass:"question-clip-widget"},[n("subscribe",{ref:"subscribe",attrs:{send:t.actions.clip,subscribable:{type:"Question",id:t.question.id}},scopedSlots:t._u([{key:"default",fn:function(e){return n("button",{staticClass:"btn btn-primary full-width rounded-0",class:{clipped:t.question.clipped},attrs:{disabled:e.disabled},on:{click:function(e){return t.$refs.subscribe.handle(!t.question.clipped)}}},[n("i",{staticClass:"fa fa-paperclip mr-05",attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{staticClass:"text-uppercase"},[t._v("\n                        "+t._s(t.question.clipped?"Unclip this question":"Clip this question")+"\n                    ")])])}}],null,!1,1381721106)}),t._v(" "),n("subscribers",{staticClass:"subscribers-preview",attrs:{users:t.subscribers,limit:4,size:"md"}})],1):t._e(),t._v(" "),n("question-social",{staticClass:"question-socialization",attrs:{url:t.question.canonical_url,title:t.question.title,tags:t.question.tags.data},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{staticClass:"link social-btn-circle facebook-btn",attrs:{href:e.facebook,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("a",{staticClass:"link social-btn-circle twitter-btn",attrs:{href:e.twitter,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("a",{staticClass:"link social-btn-circle google-btn",attrs:{href:e.google,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-google-plus",attrs:{"aria-hidden":"true"}})])]}}])})],1)])},[],!1,null,null,null).exports,pt=n(1172),mt=(n(41),{components:{Avatar:n(391).a},props:{currentOrganizationId:Number,author:null,isApproved:{type:Boolean,default:!1}},data:function(){return{show:!1,selected:this.user}},computed:Object(c.a)({},Object(_.c)("auth",["authenticated"]),Object(_.e)("organizationsUser",["organizations"])),created:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.organizations.length){t.next=3;break}return t.next=3,this.$store.dispatch("organizationsUser/getOrganizations");case 3:this.selected=this.currentOrganizationId?this.$store.getters["organizationsUser/byId"](this.currentOrganizationId):this.author;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{select:function(object){this.selected=object,this.$emit("select",object!==this.author?object.id:null)}}}),ht=(n(1535),Object(S.a)(mt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.authenticated&&t.selected?n("el-dropdown",{staticClass:"personal",attrs:{placement:"bottom",trigger:"click",width:"100"}},[n("el-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cursor-pointer ml-1",attrs:{size:"small"}},[n("div",{staticClass:"d-inline-flex align-items-center personal__item__name"},[n("Avatar",{attrs:{image:t.selected.avatar,size:"xs"}}),t._v(" "),n("span",{staticClass:"ml-05"},[t._v(t._s(t.selected.name))]),t._v(" "),n("i",{staticClass:"fa fa-caret-down text-muted ml-05",attrs:{"aria-hidden":"true"}})],1)]),t._v(" "),n("el-dropdown-menu",{staticClass:"personal__menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("div",{staticClass:"personal__header"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("span",{staticClass:"pb-05"},[t._v("You are answering as:")])])]),t._v(" "),n("div",{staticClass:"personal__body"},[t.author?n("el-dropdown-item",{class:{"is-selected":t.author===t.selected},attrs:{disabled:t.isApproved},nativeOn:{click:function(e){return t.select(t.author)}}},[n("div",{staticClass:"personal__item"},[n("Avatar",{staticClass:"personal__item_avatar",attrs:{image:t.author.avatar,size:"sm"}}),t._v(" "),n("div",{staticClass:"personal__item__name"},[n("span",{staticClass:"font-weight-bold ml-05"},[t._v(t._s(t.author.name))])])],1)]):t._e(),t._v(" "),t.organizations?t._l(t.organizations,function(e){return n("div",{key:e.slug},[n("el-dropdown-item",{class:{"is-selected":e===t.selected},attrs:{disabled:t.isApproved},nativeOn:{click:function(n){return t.select(e)}}},[n("div",{staticClass:"personal__item"},[n("Avatar",{staticClass:"personal__item_avatar",attrs:{image:e.avatar,size:"sm"}}),t._v(" "),n("div",{staticClass:"personal__item__name"},[n("span",{staticClass:"font-weight-bold ml-05"},[t._v(t._s(e.name))])])],1)])],1)}):t._e()],2)])],1):t._e()},[],!1,null,null,null).exports),ft={components:{QuestionView:nt,QuestionSidebar:ut,Comments:O.a,AnswerForm:pt.a,PersonalList:ht},props:{question:Object,actions:{type:Function,default:function(){}}},inject:["actions"],data:function(){return{showAnswerForm:!1,show:!1,organizationId:null}},computed:Object(c.a)({},Object(_.c)("auth",["authenticated"]),Object(_.e)("auth",["user"]),{commentable:function(){return{type:y.CommentableType.Question,hashId:this.question.hash_id}},commentThread:function(){return"question-".concat(this.question.id)}}),methods:Object(c.a)({},Object(_.b)("auth",["showAuthDialog"]),Object(_.b)("questionView",["addComment"]),{handleShowAnswerForm:function(){this.authenticated?this.showAnswerForm=!this.showAnswerForm:this.showAuthDialog()},selectOrganization:function(t){this.organizationId=t},answer:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var data,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(data=e.data,"function"==typeof this.actions.answer){t.next=3;break}return t.abrupt("return");case 3:return data.organization_id=this.organizationId,t.next=6,this.actions.answer(data).then(function(t){n.$emit("answerAdded",t.answer)}).catch(function(){return[]});case 6:this.$refs.form.reset(),this.showAnswerForm=!1,this.organizationId=null;case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addQuestionComment:function(t){return this.addComment({values:t})}})},vt=(n(1536),Object(S.a)(ft,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-2"},[n("div",{staticClass:"row pt-md-3 pb-1"},[n("div",{staticClass:"col-xl-9 offset-xl-0 col-lg-10 offset-lg-1"},[n("question-view",{ref:"view",attrs:{question:t.question}}),t._v(" "),n("div",{staticClass:"pt-1"},[n("button",{staticClass:"btn btn-primary rounded-0 btn-post-answer",on:{click:t.handleShowAnswerForm}},[n("i",{class:["fa","mr-05","fa-pencil"],attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",[t._v("Post answer")])])])],1),t._v(" "),n("div",{staticClass:"col-md-3 hidden-lg-down d-flex"},[n("question-sidebar",{attrs:{question:t.question}})],1)]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.authenticated&&t.showAnswerForm?n("answer-form",{directives:[{name:"focus",rawName:"v-focus"}],ref:"form",attrs:{autofocus:!0,"show-avatar":!1,"submit-text":"Answer"},on:{store:t.answer,cancel:function(e){t.showAnswerForm=!1}}},[n("div",{attrs:{slot:"extend"},slot:"extend"},[n("PersonalList",{ref:"personal",attrs:{author:t.user},on:{select:t.selectOrganization}})],1)]):t._e()],1),t._v(" "),n("comments",{attrs:{commentable:t.commentable,thread:t.commentThread,store:"questionView/comments"}})],1)},[],!1,null,"038c5c20",null).exports),bt=n(1214),gt={props:{size:{type:String,default:"medium"},answer:{type:Object,required:!0}},computed:Object(c.a)({},Object(_.c)("auth",["authenticated","isAdmin","hasRole"]),{permissions:function(){return{canEdit:this.answer.is_own||this.isAdmin,canReport:!this.answer.is_own}}}),methods:{confirmDelete:function(){var t=this;this.answer.is_own||!this.isAdmin?this.$confirm("Deleted answers are gone forever. Are you sure?","Delete answer").then(function(){return t.$emit("delete")}):this.openConfirmDelete(this.answer)},confirmHighlightingCode:function(){var t=this;this.$confirm("Do you want to highlight code blocks in this answer?","Highlighting code blocks").then(function(){return t.highlightCodeBlocks()})},highlightCodeBlocks:function(){var t=this;return Object(N.f)("answers",this.answer.hash_id).then(function(){return t.$message.success("Success! It maybe take a few minutes to complete.")}).catch(Object(C.a)(this.$message.error))},openConfirmDelete:function(t){var e=this,n=this.$createElement;this.$msgbox({showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancel",message:n(X.a),beforeClose:function(n,r,o){if("confirm"===n){var data=B()(r,"$slots.default[0].componentInstance.form");e.storeReason(t,data)}o()}})},storeReason:function(t,data){Object(V.a)("answers",t.hash_id,data),this.$emit("delete")}}},_t=(n(1537),Object(S.a)(gt,function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return e.authenticated?r("el-dropdown",{staticClass:"answer-menu",attrs:{placement:"bottom-start",trigger:"click"}},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cursor-pointer",attrs:{title:"Show more actions"}},[r("i",{staticClass:"el-icon-more-outline",class:(t={},t["v-menu-icon--"+e.size]=!!e.size,t)})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.permissions.canEdit?r("el-dropdown-item",{nativeOn:{click:function(t){return e.$emit("edit")}}},[r("i",{staticClass:"fa fa-pencil pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" "),r("span",[e._v("Edit")])]):e._e(),e._v(" "),e.permissions.canReport?r("el-dropdown-item",{nativeOn:{click:function(t){return e.$emit("report")}}},[r("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" "),r("span",[e._v("Report")])]):e._e(),e._v(" "),e.permissions.canEdit?r("el-dropdown-item",{nativeOn:{click:function(t){return e.confirmDelete(t)}}},[r("i",{staticClass:"fa fa-trash pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" "),r("span",[e._v("Delete this answer")])]):e._e(),e._v(" "),e.authenticated?r("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(t){return e.confirmHighlightingCode(t)}}},[r("i",{staticClass:"fa fa-magic pr-0 mr-05"}),e._v(" "),r("span",[e._v("Highlighting code blocks")])]):e._e()],1)],1):e._e()},[],!1,null,null,null).exports),wt={components:{OrganizationInlinePopover:n(1212).a},props:{answer:Object,hasOrganization:{type:Boolean,default:!1}},data:function(){return{isApproved:!!this.answer.organization&&this.answer.organization.data.pivot.reviewed_at}},computed:Object(c.a)({},Object(_.c)("questionView",["canAcceptAnswer"]),Object(_.c)("auth",["isAdmin"])),methods:Object(c.a)({},Object(_.b)("questionView",["acceptAnswer"]),{approveAnswer:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$emit("approve"),this.isApproved=!0;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),removeAnswer:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$emit("remove"),this.isApproved=!1;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},Ct=(n(1538),Object(S.a)(wt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"answer-meta"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-muted hidden-md-down",attrs:{title:t._f("formatTime")(t.answer.created_at)}},[t._v("\n        Answered "+t._s(t._f("humanizeTime")(t.answer.created_at))+"\n    ")]),t._v(" "),t.isApproved&&t.answer.organization&&t.hasOrganization?n("OrganizationInlinePopover",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"text-muted hidden-md-down",attrs:{prefix:"by",organization:t.answer.organization.data}}):t._e(),t._v(" "),t.canAcceptAnswer||t.isAdmin?n("button",{staticClass:"btn accept-answer ml-1",class:{accepted:t.answer.accepted},on:{click:function(e){return t.acceptAnswer({answer:t.answer,value:!t.answer.accepted})}}},[t.answer.accepted?n("i",{staticClass:"fa fa-check"}):t._e(),t._v("\n        "+t._s(t.answer.accepted?"Accepted":"Accept this answer")+"\n    ")]):t.answer.accepted?n("div",{staticClass:"btn accept-answer accepted"},[t._v("\n        Accepted\n    ")]):t._e(),t._v(" "),!t.isApproved&&t.answer.permission&&t.hasOrganization?n("div",{staticClass:"btn-answer-approval d-inline-block"},[n("button",{staticClass:"btn accept-answer warning",on:{click:t.approveAnswer}},[t._v("\n            Approve to "+t._s(t.answer.organization.data.name)+"\n        ")]),t._v(" "),n("button",{staticClass:"btn accept-answer warning",on:{click:t.removeAnswer}},[t._v("\n            Reject\n        ")])]):t._e()],1)},[],!1,null,null,null).exports),yt=n(493),Ot={components:{Vote:E.a,Author:R.a,AnswerMenu:_t,AnswerMeta:Ct,AnswerForm:pt.a,ShareTip:x.a,ReportDialog:M.a,PersonalList:ht},props:{answer:{type:Object,required:!0},admin:{type:Boolean,default:!1}},inject:["actions"],data:function(){var t=B()(this.answer,"organization");return{formOpen:!1,openShareTip:!1,organization:t,currentOrganizationID:B()(t,"data.id"),isApproved:!!t&&t.data.pivot.reviewed_at}},computed:Object(c.a)({},Object(_.c)("auth",["isAdmin","hasRole"]),{toAnswer:function(){return Object(j.a)(Object(j.b)(this.answer))},author:function(){return this.$store.getters["entities/users/get"](this.answer.user_id)}}),methods:{selectOrganization:function(t){this.currentOrganizationID=t,this.answer.organization&&null===t&&this.remove()},update:function(t){var e=this,data=t.data;if("function"==typeof this.actions.update){data.organization_id=this.currentOrganizationID;var n={id:this.answer.hash_id,values:data};this.actions.update(n).then(function(t){e.formOpen=!1,e.organization=B()(t,"organization")}).catch(Object(C.a)(this.$message.error))}},report:function(t){var form={id:this.answer.hash_id,values:t};this.actions.report(form)},destroy:function(){"function"==typeof this.actions.destroy&&this.actions.destroy(this.answer.hash_id)},approve:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(yt.a)(this.answer.hash_id);case 3:this.isApproved=!0,this.$message.success("This answer have been approved."),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.$message.error("Something went wrong. Can not approve this answer.");case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),remove:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(yt.b)(this.answer.hash_id);case 3:this.currentOrganizationID=null,this.organization=null,this.$message.success("This answer have been removed."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.$message.success("Something went wrong. Can not remove this answer.");case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()}},jt=(n(1539),Object(S.a)(Ot,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"answer-view"},[n("Author",{attrs:{"user-id":t.answer.user_id,"class-name":"mb-05 hidden-lg-up"}},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{slot:"text",title:t._f("formatTime")(t.answer.created_at)},slot:"text"},[t._v("Answered\n            "+t._s(t._f("humanizeTime")(t.answer.created_at))+"\n        ")])]),t._v(" "),n("div",{staticClass:"d-flex align-items-center justify-content-between mb-05"},[n("answer-meta",{attrs:{answer:t.answer,"has-organization":!!t.organization},on:{approve:t.approve,remove:t.remove}}),t._v(" "),n("answer-menu",{attrs:{answer:t.answer},on:{edit:function(e){t.formOpen=!0},report:function(e){return t.$refs.reportDialog.open()},delete:t.destroy}})],1),t._v(" "),n("div",{staticClass:"answer-content d-flex"},[n("div",{staticClass:"vote-col"},[n("vote",{attrs:{rateable:{type:"Answer",id:t.answer.hash_id},score:t.answer.points,"rated-value":t.answer.rated_value,send:t.actions.vote,"is-own":t.answer.is_own,disabled:t.answer.is_own}})],1),t._v(" "),t.formOpen?t._e():n("Markdown",{attrs:{contents:t.answer.contents}}),t._v(" "),t.formOpen?n("AnswerForm",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"answer-edit",attrs:{value:t.answer.contents,"show-avatar":!1,"submit-text":"Save"},on:{store:t.update,remove:t.remove,cancel:function(e){t.formOpen=!1}}},[n("PersonalList",{ref:"personal",attrs:{slot:"extend","is-approved":t.isApproved,"current-organization-id":t.currentOrganizationID,author:t.author},on:{select:t.selectOrganization},slot:"extend"})],1):t._e()],1),t._v(" "),n("share-tip",{staticClass:"mt-05",attrs:{text:t.toAnswer,"sharing-id":"answer-"+t.answer.hash_id,label:"Share a link to this answer","sharing-title":"Answer for a question"}}),t._v(" "),t.answer.is_own?t._e():n("ReportDialog",{ref:"reportDialog",attrs:{"send-report":t.report}})],1)},[],!1,null,null,null).exports),xt={components:{Comments:O.a,AnswerView:jt,UserItem:it.a,UserCard:at.a},props:{answer:Object},computed:{commentable:function(){return{type:y.CommentableType.Answer,hashId:this.answer.hash_id}},commentThread:function(){return"answer-".concat(this.answer.id)}},provide:function(){return{actions:{vote:this.sendVote,update:this.update,destroy:this.removeAnswer,report:this.report}}},methods:Object(c.a)({},Object(_.b)("questionView",["removeAnswer"]),Object(_.b)("questionView/answers",["addComment","update","vote","report"]),{sendVote:function(t){return this.vote({id:this.answer.id,value:t})},addAnswerComment:function(t){return this.addComment({answerId:this.answer.id,values:t})}})},kt=(n(1540),{components:{Answer:Object(S.a)(xt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"answer",attrs:{id:"answer-"+t.answer.hash_id}},[n("div",{staticClass:"row",attrs:{"data-answerid":t.answer.hash_id}},[n("div",{staticClass:"col-xl-9 offset-xl-0 col-lg-10 offset-lg-1"},[n("answer-view",{attrs:{answer:t.answer}})],1),t._v(" "),n("div",{staticClass:"col-md-3 hidden-lg-down d-flex"},[n("UserItem",{attrs:{"user-id":t.answer.user_id},scopedSlots:t._u([{key:"default",fn:function(t){return n("UserCard",{attrs:{user:t.user,follow:t.userAction("follow"),stats:["reputation","followers","questions","answers"]}})}}])})],1)]),t._v(" "),n("Comments",{attrs:{commentable:t.commentable,thread:t.commentThread,store:"questionView/comments"}})],1)},[],!1,null,null,null).exports,ListTransition:bt.a},props:{answers:Array}}),$t={name:"QuestionView",components:{Answers:Object(S.a)(kt,function(){var t=this.$createElement,e=this._self._c||t;return e("ListTransition",{staticClass:"answers"},this._l(this.answers,function(t){return e("Answer",{key:t.hash_id,attrs:{answer:t}})}),1)},[],!1,null,null,null).exports,Question:vt},mixins:[Object(v.a)(h.a.Question,"question.hash_id",3e3)],head:function(){var t=Object(f.c)(this.question,this.answers);return Object(c.a)({},t,{title:this.withUnreadCount(t.title)})},data:function(){return{sendViewTimer:null}},computed:Object(c.a)({},Object(_.c)("notifications",["withUnreadCount"]),Object(_.e)({participatingUsers:function(t,e){var n=l()(t.questionView.answers.byId,"user_id"),r=l()(t.questionView.comments.byId,"user_id"),c=m()([this.question.user_id].concat(Object(o.a)(n),Object(o.a)(r)));return e["entities/users/mapId"](c)}}),Object(_.c)("questionView",{question:"current",answers:"answers"})),fetch:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,o,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,r=e.params,o=e.error,t.prev=1,c=Object(C.c)(r.question),l=c.hashId,t.next=5,n.dispatch(w.ACTION_FETCH_QUESTION,l);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),Object(C.d)(o,t.t0);case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}(),analytics:{autoTrack:!1},provide:function(){var t=this;return{actions:{answer:function(e){return t.addAnswer({question:t.question.hash_id,values:e})},clip:this.clip,voteQuestion:this.voteQuestion,voteAnswer:this.voteAnswer},localMentions:this.participatingUsers}},mounted:function(){this.replaceRouteSlug(this.question)||this.onLanded(this.question)},beforeRouteUpdate:function(t,e,n){this.onLanded(this.question),n()},methods:Object(c.a)({},Object(_.b)("questionView",["addAnswer","clip","voteAnswer","voteQuestion"]),{onLanded:function(t){this.$store.dispatch("questionView/fetchSubscribers",t.hash_id),this.$ga.ready(function(e){e.page({title:t.title,page:"/questions/".concat(t.hash_id),location:window.location.href,dimension1:"questions.view"})})},replaceRouteSlug:function(t){var e="".concat(t.title_slug,"-").concat(t.hash_id);return this.$route.params.question!==e&&(this.$router.replace("/q/".concat(e).concat(this.$route.hash)),!0)}})},St=(n(1541),Object(S.a)($t,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"jump-to-route-hash",rawName:"v-jump-to-route-hash"}],staticClass:"question-view container"},[n("question",{attrs:{question:t.question}}),t._v(" "),t.answers.length>0?n("div",{staticClass:"section-title-line"},[n("h3",{staticClass:"text-bold"},[t._v("\n            "+t._s(t.question.answers_count)+" ANSWERS\n        ")]),t._v(" "),n("hr",{staticClass:"filler-line mb-05"})]):t._e(),t._v(" "),n("answers",{ref:"answers",attrs:{answers:t.answers}})],1)},[],!1,null,null,null));e.default=St.exports},1983:function(t,e,n){"use strict";n.r(e);n(70),n(10);var r=n(3),o=n(4),c=(n(88),n(8)),l=n(1147),d=n(385),m=n(26),h=n(66),f=n(1310),v=n(11),_=n(1430),w=n(18),C=n(1220),y=n(160),O=n(295),j={functional:!0,render:function(t,e){var n=e.props.series;return t("div",{class:"series-meta text-muted"},[t("span",["Published at ",Object(O.b)(n.published_at)]),t("span",{class:"mx-05"},[""]),t("span",{class:"stats-item mr-05",attrs:{title:"Views"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-eye",attrs:{"aria-hidden":"true"}})," ",n.views_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Clips"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-paperclip",attrs:{"aria-hidden":"true"}})," ",n.clips_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Comments"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-comments",attrs:{"aria-hidden":"true"}})," ",n.comments_count]),t("span",{class:"stats-item mx-05",attrs:{title:"Posts"},directives:[{name:"tooltip",value:!0}]},[t("i",{class:"fa fa-clipboard",attrs:{"aria-hidden":"true"}})," ",n.posts_count])])}},x=n(0),k=Object(x.a)(j,void 0,void 0,!1,null,null,null).exports,$={props:{series:{type:Object,required:!0}}},S=(n(1542),Object(x.a)($,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"post-right-menu mb-0"},[n("li",{staticClass:"hidden-lg-up text-muted"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"stats-item mr-05",attrs:{title:"Views"}},[n("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.series.views_count)+"\n        ")]),t._v(" "),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"stats-item mx-05",attrs:{title:"Clips"}},[n("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.series.clips_count)+"\n        ")]),t._v(" "),n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"stats-item mx-05 mr-1",attrs:{title:"Answers"}},[n("i",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.series.answers_count)+"\n        ")])])])},[],!1,null,null,null).exports),A=n(62),P=n(12),z=n(93),T=n.n(z),R=n(15),E=n(383),I=n(387),D=n.n(I),N=n(1264),V={components:{InfiniteLoading:D.a,AddPostItem:N.a},props:{series:{type:Object}},data:function(){return{show:!1,posts:[],currentPost:null,pagination:null,finishLoad:!1}},computed:Object(o.a)({},Object(c.c)("auth",{authUserId:"userId"})),methods:{postUrl:function(t){return Object(R.a)(Object(R.f)(t))},open:function(){this.$refs.infiniteLoading&&this.$refs.infiniteLoading.$emit("$InfiniteLoading:reset"),this.pagination=null,this.posts=[],this.finishLoad=!1,this.show=!0},close:function(){this.currentPost=null,this.show=!1},fetchPosts:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.pagination?this.pagination.current_page+1:1,t.next=3,Object(E.b)({series_id:this.series.hash_id,page:n}).then(function(t){return t.data});case 3:r=t.sent,this.posts=[].concat(Object(P.a)(this.posts),Object(P.a)(r.data)),this.pagination=r.meta.pagination,this.pagination.current_page<this.pagination.total_pages?e.loaded():(this.finishLoad=!0,e.complete());case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),doAdd:function(){var t=this;null!==this.currentPost&&Object(E.h)(this.currentPost,this.series.hash_id).then(function(){var e=T()(t.posts,function(e){return e.slug===t.currentPost});t.posts[e].meta.data.is_disabled=!0,t.close(),t.$message.success("Your request has been sent. Please wait for owner's response!")}).catch(function(){t.close(),t.$message.error("There was a problem when adding your post to the series.")})},setCurrentPost:function(t){this.currentPost=t.meta.data.is_disabled?null:t.slug}}},U=(n(1543),n(1544),Object(x.a)(V,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{staticClass:"modal-add-to-series modal-body-fit-screen",attrs:{show:t.show,title:"What post do you want to add to this series?"},on:{"update:show":function(e){t.show=e}}},[t.posts.length>0?n("ul",{staticClass:"list-group"},t._l(t.posts,function(e,r){return n("li",{key:e.id,staticClass:"list-group-item word-break",class:{active:e.slug==t.currentPost,disabled:e.meta.data.is_disabled},on:{click:function(n){return t.setCurrentPost(e)}}},[n("add-post-item",{attrs:{title:r+1+". "+e.title,"clipboard-data":t.postUrl(e)}},[e.meta.data.message?n("small",[t._v("("+t._s(e.meta.data.message)+")")]):t._e()])],1)}),0):n("div",{staticClass:"text-center mt-1"},[t._v("\n            You don't have any post.\n            "),n("nuxt-link",{attrs:{to:"/publish/post"}},[t._v("\n                Create a new one!\n            ")])],1),t._v(" "),n("no-ssr",[n("InfiniteLoading",{directives:[{name:"show",rawName:"v-show",value:!t.finishLoad,expression:"!finishLoad"}],ref:"infiniteLoading",attrs:{distance:100,spinner:"spiral"},on:{infinite:t.fetchPosts}})],1),t._v(" "),n("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn btn-primary cursor-pointer",class:{disabled:null===t.currentPost},on:{click:t.doAdd}},[t._v("\n                Send request\n            ")])])],1),t._v(" "),n("span",{staticClass:"report",attrs:{"aria-haspopup":"true"},on:{click:t.open}},[n("i",{staticClass:"fa fa-plus-square-o ",attrs:{"aria-hidden":"true"}}),t._v(" Add my post to this series\n    ")])],1)},[],!1,null,"d735bfa2",null).exports),B={components:{FeedItem:n(1245).a,Pagination:A.a,AddToSeries:U},props:{posts:{type:Array},series:{type:Object}},computed:Object(o.a)({},Object(c.c)("auth",["userId","authenticated"]),{isOwned:function(){return this.series.user.data.id===this.userId}}),methods:{isDraft:function(t){return t.is_draft},isOwnedPost:function(t){return t.user_id===this.userId}}},M=Object(x.a)(B,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-1"},[n("div",{staticClass:"section-title-line"},[n("h3",{staticClass:"text-bold"},[t._v("\n            CONTENTS\n        ")]),t._v(" "),n("hr",{staticClass:"filler-line mb-05"}),t._v(" "),t.authenticated&&!t.isOwned?n("add-to-series",{attrs:{series:t.series}}):t._e()],1),t._v(" "),t._l(t.posts.data,function(e){return n("div",{key:e.id},[n("feed-item",{class:{"card--muted":e.is_draft},attrs:{post:e,title:e.is_draft&&t.isOwnedPost(e)?"This draft post is hidden in the series. Please make this post public!":null}})],1)}),t._v(" "),t.posts.data.length<=0?n("div",{staticClass:"text-center mt-1"},[t._v("\n        This series doesn't have any posts\n    ")]):t._e(),t._v(" "),n("pagination",{attrs:{"current-page":t.posts.meta.pagination.current_page,"last-page":t.posts.meta.pagination.total_pages}})],2)},[],!1,null,null,null).exports,F=n(1434),L=n(1268),H=n(1154),Q={props:{series:{type:Object}},computed:Object(o.a)({},Object(c.e)("seriesView",{allRequests:"requests"})),mounted:function(){this.getAllRequestNews()},methods:Object(o.a)({},Object(c.b)("seriesView",["getSeries","getAllRequestNews"]),{message:function(t){var e='<a href="/u/'.concat(t.user_post.data.username,'">@').concat(t.user_post.data.username,"</a>"),n='<a href="'.concat(t.post.data.canonical_url,'">').concat(t.post.data.title,"</a>");return"User ".concat(e," want to add his/her post ").concat(n," to this series.")},fetchAndNotify:function(){this.getSeries({hash_id:this.series.hash_id}),this.$message.success("Action successfully!")},doReject:function(t){var e=this;Object(E.a)(t.id).then(function(){e.fetchAndNotify()})},doApprove:function(t){var e=this;Object(E.i)(t.id,{status:"approved"}).then(function(){e.fetchAndNotify()})},doBlock:function(t){var e=this;Object(E.i)(t.id,{status:"blocked"}).then(function(){e.fetchAndNotify()})}})},K=Object(x.a)(Q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-1"},t._l(t.allRequests,function(e,r){return n("div",{key:r,staticClass:"mb-05 d-flex"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("button",{staticClass:"btn btn-secondary",attrs:{id:"btnGroupDrop"+e.id}},[t._v("\n                Actions\n            ")]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){return t.doApprove(e)}}},[t._v("\n                    Approve\n                ")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){return t.doBlock(e)}}},[t._v("\n                    Block\n                ")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){return t.doReject(e)}}},[t._v("\n                    Reject\n                ")])],1)],1),t._v(" "),n("span",{staticClass:"ml-05 word-break",domProps:{innerHTML:t._s(t.message(e))}})],1)}),0)},[],!1,null,null,null).exports,Y=n(389),W=n(164),J={components:{ReportDialog:n(1176).a},props:{size:{type:String,default:"medium"},isOwn:Boolean,series:{type:Object,required:!0}},computed:Object(o.a)({},Object(c.c)("auth",["authenticated","isAdmin","hasRole"]),{editPage:function(){return"/series/".concat(this.series.hash_id,"/edit")},permissions:function(){return{canEdit:this.isOwn||this.isAdmin,canReport:!this.isOwn}}}),methods:{confirmDelete:function(){var t=this;this.$confirm("Deleted series are gone forever. Are you sure?","Delete series").then(function(){return t.deleteSeries()})},confirmHighlightingCode:function(){var t=this;this.$confirm("Do you want to highlight code blocks in this series?","Highlighting code blocks").then(function(){return t.highlightCodeBlocks()})},highlightCodeBlocks:function(){var t=this;return Object(W.f)("series",this.series.hash_id).then(function(){return t.$message.success("Success! It maybe take a few minutes to complete.")}).catch(Object(m.a)(this.$message.error))},report:function(data){return Object(E.g)(this.series.hash_id,data)},deleteSeries:function(){var t=this;return Object(Y.deleteSeries)(this.series.hash_id).then(function(){t.$message.success("Deleted successfully!"),t.$router.push("/u/".concat(t.series.user.data.username,"/series"))}).catch(Object(m.a)(this.$message.error))}}},G=(n(1545),Object(x.a)(J,function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"series-menu"},[r("el-dropdown",{attrs:{placement:"bottom",trigger:"click"}},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"cursor-pointer",attrs:{title:"Show more actions"}},[r("i",{staticClass:"el-icon-more-outline",class:(t={},t["v-menu-icon--"+e.size]=!!e.size,t)})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.permissions.canEdit?r("el-dropdown-item",[r("nuxt-link",{staticClass:"link link--plain",attrs:{to:e.editPage}},[r("i",{staticClass:"fa fa-pencil pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v(" Edit\n                ")])],1):e._e(),e._v(" "),e.permissions.canReport?r("el-dropdown-item",{nativeOn:{click:function(t){return e.$refs.reportDialog.open()}}},[r("i",{staticClass:"fa fa-flag-o pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v("Report\n            ")]):e._e(),e._v(" "),e.permissions.canEdit?r("el-dropdown-item",{nativeOn:{click:function(t){return e.confirmDelete(t)}}},[r("i",{staticClass:"fa fa-trash pr-0 mr-05",attrs:{"aria-hidden":"true"}}),e._v("\n                Delete this series\n            ")]):e._e(),e._v(" "),e.authenticated?r("el-dropdown-item",{attrs:{divided:!0},nativeOn:{click:function(t){return e.confirmHighlightingCode(t)}}},[r("i",{staticClass:"fa fa-magic pr-0 mr-05"}),e._v("\n                Highlighting code blocks\n            ")]):e._e()],1)],1),e._v(" "),e.permissions.canReport?r("ReportDialog",{ref:"reportDialog",attrs:{"send-report":e.report}}):e._e()],1)},[],!1,null,null,null).exports),Z={components:{Tags:H.a,Vote:L.a,Author:F.a,ActionBar:S,SeriesMeta:k,Subscribe:y.a,SeriesBottom:M,SeriesRequestNewsBar:K,ShareTip:C.a,SeriesMenu:G},props:{series:{type:Object,required:!0},posts:Object,user:Object},inject:["actions"],computed:Object(o.a)({},Object(c.c)("auth",{currentUserID:"userId"}),{isAuthor:function(){return this.user.id===this.currentUserID},toSeries:function(){return Object(w.a)(Object(w.k)(this.series))}})},X=(n(1546),Object(x.a)(Z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"series-content-wrapper"},[n("author",{attrs:{"user-id":t.series.user_id,"class-name":"hidden-lg-up"}},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{slot:"text",title:t._f("formatTime")(t.series.published_at)},slot:"text"},[t._v("\n            Published "+t._s(t._f("humanizeTime")(t.series.published_at))+"\n        ")])]),t._v(" "),n("div",{staticClass:"my-05 d-flex align-items-center"},[n("vote",{attrs:{rateable:{type:"Series",id:t.series.hash_id},score:t.series.points,"rated-value":t.series.rated_value,send:t.actions.vote,"is-own":t.isAuthor,disabled:t.isAuthor}}),t._v(" "),n("header",{staticClass:"summary"},[n("h1",{staticClass:"title word-break-all"},[t._v("\n                "+t._s(t.series.title)+"\n            ")]),t._v(" "),n("tags",{attrs:{tags:t.series.tags.data}}),t._v(" "),n("div",{staticClass:"d-flex hidden-lg-up flex-wrap"},[n("subscribe",{ref:"subscribe",attrs:{send:t.actions.clip,subscribable:{type:"Series",id:t.series.hash_id},"class-name":["btn-md-clipping link plain",{"sm-clipped":t.series.clipped}]}},[n("span",{on:{click:function(e){return t.$refs.subscribe.handle(!t.series.clipped)}}},[t._v("\n                        "+t._s(t.series.clipped?"unclip":"clip")+"\n                        "),n("i",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}})])]),t._v(" "),n("share-tip",{staticClass:"ml-1 mr-05",attrs:{"sharing-id":"series-"+t.series.hash_id,text:t.toSeries,title:t.series.title,label:"Share a link to series"}}),t._v(" "),n("div",{staticClass:"d-block ml-auto"},[n("action-bar",{attrs:{series:t.series,"is-own":t.isAuthor}})],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"d-flex justify-content-between hidden-md-down"},[n("series-meta",{attrs:{series:t.series}}),t._v(" "),n("action-bar",{attrs:{series:t.series,"is-own":t.isAuthor}}),t._v(" "),n("series-menu",{attrs:{series:t.series,"is-own":t.isAuthor}})],1),t._v(" "),t.isAuthor?n("series-request-news-bar",{attrs:{series:t.series}}):t._e(),t._v(" "),n("Markdown",{staticClass:"mt-md-1",attrs:{contents:t.series.contents}}),t._v(" "),n("share-tip",{staticClass:"ml-1 mr-05 hidden-lg-down",attrs:{"sharing-id":"series-"+t.series.hash_id,text:t.toSeries,title:t.series.title,label:"Share a link to series"}}),t._v(" "),n("series-bottom",{attrs:{series:t.series,posts:t.posts}})],1)},[],!1,null,null,null).exports),map=n(49),tt=n.n(map),et=n(1547),st=n.n(et),nt=n(1250),it=n(1222),at=n(1177),ot=n(1171),ct={components:{UserItem:nt.a,UserSidebarCard:it.a,Subscribe:y.a,SeriesSocial:at.a,Subscribers:ot.a},props:{series:Object,wrapper:{type:String,default:".series-content"},posts:Array,subscribers:Array,clip:Function,user:Object},computed:{authors:function(){return st()(tt()(this.posts,function(t){return t.user.data}),"id")}}},lt=(n(1548),n(1549),Object(x.a)(ct,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-sidebar d-flex"},[n("div",{staticClass:"sidebar-content full-width"},[n("UserItem",{attrs:{"user-id":t.series.user_id},scopedSlots:t._u([{key:"default",fn:function(t){return n("UserSidebarCard",{attrs:{user:t.user,follow:t.userAction("follow"),stats:["reputation","followers","posts"]}})}}])}),t._v(" "),t.series?n("div",{staticClass:"post-clip-widget"},[n("subscribe",{ref:"subscribe",attrs:{send:t.clip,subscribable:{type:"Series",id:t.series.id}}},[n("button",{staticClass:"btn btn-primary full-width rounded-0",class:{clipped:t.series.clipped},on:{click:function(e){return t.$refs.subscribe.handle(!t.series.clipped)}}},[n("i",{staticClass:"fa fa-paperclip mr-05",attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{staticClass:"text-uppercase"},[t._v("\n                        "+t._s(t.series.clipped?"Unclip this series":"Clip this series")+"\n                    ")])])]),t._v(" "),n("subscribers",{staticClass:"justify-content-center mt-05",attrs:{users:t.subscribers,limit:4,size:"md"}})],1):t._e(),t._v(" "),n("series-social",{staticClass:"post-socialization",attrs:{url:t.series.cannonical_url,title:t.series.title,tags:t.series.tags.data},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{staticClass:"link social-btn-circle facebook-btn",attrs:{href:e.facebook,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("a",{staticClass:"link social-btn-circle twitter-btn",attrs:{href:e.twitter,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("a",{staticClass:"link social-btn-circle google-btn",attrs:{href:e.google,target:"_blank",rel:"noopener"}},[n("i",{staticClass:"fa fa-google-plus",attrs:{"aria-hidden":"true"}})])]}}])}),t._v(" "),n("div",{staticClass:"plus-widget-area"},[t._m(0),t._v(" "),n("subscribers",{staticClass:"subscribers-preview",attrs:{users:t.authors,limit:4,size:"md"}})],1)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-title-line mt-2"},[e("h3",{staticClass:"text-bold"},[this._v("\n                    AUTHORS\n                ")]),this._v(" "),e("hr",{staticClass:"filler-line mb-05"})])}],!1,null,"6e2f6ea3",null).exports),ut={components:{Comments:_.a,SeriesView:X,SeriesSidebar:lt},props:{series:Object,posts:Object,subscribers:Array,actions:{type:Function,default:function(){}}},inject:["actions"],computed:{commentable:function(){return{type:v.CommentableType.Series,hashId:this.series.hash_id}},user:function(){return this.$store.getters["entities/users/get"](this.series.user_id)}}},pt=(n(1550),Object(x.a)(ut,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row pt-md-3 pb-1 my-2"},[n("div",{staticClass:"col-xl-9 offset-xl-0 col-lg-10 offset-lg-1"},[n("series-view",{ref:"view",attrs:{user:t.user,series:t.series,posts:t.posts}})],1),t._v(" "),n("div",{staticClass:"col-md-3 hidden-lg-down d-flex"},[n("series-sidebar",{attrs:{clip:t.actions.clip,series:t.series,user:t.user,subscribers:t.subscribers,posts:t.posts.data}})],1)]),t._v(" "),n("div",{staticClass:"row mt-1 mb-2 no-border-top-comment"},[n("div",{staticClass:"col-xl-9 offset-xl-0 col-lg-10 offset-lg-1"},[t._m(0),t._v(" "),n("Comments",{attrs:{commentable:t.commentable,store:"seriesView/comments"}})],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-title-line"},[e("h3",{staticClass:"text-bold"},[this._v("\n                    COMMENTS\n                ")]),this._v(" "),e("hr",{staticClass:"filler-line mb-05"})])}],!1,null,null,null).exports),mt={components:{Series:pt},mixins:[Object(f.a)(d.a.Series,"series.hash_id",3e3)],head:function(){var t=Object(l.d)(this.series);return Object(o.a)({},t,{title:this.withUnreadCount(t.title)})},data:function(){return{subscribers:[]}},computed:Object(o.a)({},Object(c.c)("notifications",["withUnreadCount"]),Object(c.c)("auth",{currentUserID:"userId"}),Object(c.e)("seriesView",["series","posts"])),fetch:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,r=e.params,o=e.error,t.prev=1,l=r.hashId,c=l.split("-").pop(),t.next=5,n.dispatch("seriesView/getSeries",{hashId:c});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),Object(m.d)(o,t.t0);case 10:case"end":return t.stop()}var l},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}(),analytics:{autoTrack:!1},provide:function(){return{actions:{clip:this.handleClip,vote:this.vote}}},mounted:function(){this.replaceRouteSlug(this.series)||this.onLanded(this.series)},beforeRouteUpdate:function(t,e,n){this.onLanded(this.series),n()},methods:Object(o.a)({},Object(c.b)("seriesView",["clip","vote"]),{onLanded:function(t){this.$ga.ready(function(e){e.page({title:t.title,page:"/series/".concat(t.hash_id),location:window.location.href,dimension1:"series.view"})})},replaceRouteSlug:function(t){var e="".concat(t.slug,"-").concat(t.hash_id);return this.$route.params.hashId!==e&&(this.$router.replace("/s/".concat(e).concat(this.$route.hash)),!0)},handleClip:function(t){var e=this;return this.clip({hash_id:this.series.hash_id,value:t}).then(function(){return e.fetchSubs()})},fetchSubs:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.d)("series",this.series.hash_id).then(function(t){return t.data.data});case 2:this.subscribers=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},ht=(n(1551),Object(x.a)(mt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"jump-to-route-hash",rawName:"v-jump-to-route-hash"}],staticClass:"series-view container"},[e("series",{attrs:{series:this.series,subscribers:this.subscribers,posts:this.posts}})],1)},[],!1,null,null,null));e.default=ht.exports}}]);